(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"45mF":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1YZw"),r=n("pXBW"),o=n("3XMw"),i=n.n(o),s=n("SrIh"),l=i.a.i9cec7a1,c=function(e,t){return void 0===e&&(e=l),void 0===t&&(t=!0),{customErrorHandler:function(n){var o=n.context;return!n instanceof r.a&&(n.message="Strato error occurred in "+o.id+": "+o.action),Object(s.a)(n,{extra:{context:o,isStrato:!0}}),t?Object(a.b)({text:e}):[]}}}},"6XNv":function(e,t,n){"use strict";n("cI1W");var a=n("1Pcy"),r=n.n(a),o=n("W/Kd"),i=n.n(o),s=n("KEM+"),l=n.n(s),c=(n("PN9k"),n("ERkP")),d=n("t62R"),u=n("SKmd"),p=n.n(u),m=n("rHpw"),h=(n("aWzz"),n("7DT3")),f=n.n(h),g=n("3xO4"),_=n.n(g),v=c.forwardRef((function(e,t){return f()("select",Object.assign({},e,{ref:t}))})),b=function(e){return f()("option",e)},y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,l()(r()(t),"_selectRef",c.createRef()),l()(r()(t),"state",{isFocused:!1}),l()(r()(t),"_handleChange",(function(e){var n=t.props,a=n.onChange,r=n.withEmptyOption,o=e.target,i=o.selectedIndex,s=o.value;a&&a(s,i-(r?1:0))})),l()(r()(t),"_handleBlur",(function(e){var n=t.props.onBlur;t.setState({isFocused:!1}),n&&n()})),l()(r()(t),"_handleFocus",(function(e){var n=t.props.onFocus;t.setState({isFocused:!0}),n&&n()})),t}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.autofocus&&this._selectRef&&this._selectRef.current&&this._selectRef.current.focus()},n.render=function(){var e=this.props,t=e.style,n=e.disabled,a=e.options,r=e.value,o=e.label,i=e.hasError,s=e.helperText,l=e.testID,d=e.withEmptyOption,u=this.state.isFocused;return c.createElement(c.Fragment,null,c.createElement(_.a,{style:[C.container,n&&C.disabled,C.bottomBorder,n&&C.bottomBorderDisabled,u&&C.bottomBorderFocused,i&&C.bottomBorderError,t]},this._renderLabel(),c.createElement(_.a,{style:C.dropdownContainer},c.createElement(v,{accessibilityLabel:o,disabled:n,onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,ref:this._selectRef,style:[C.select,o&&C.selectWithLabel,n&&C.disabled],testID:l||"",value:r},d?c.createElement(b,{disabled:!0,style:C.option,value:""}):null,a.map((function(e){var t=e.disabled,n=e.label,a=e.value;return c.createElement(b,{disabled:t,key:n+"-"+a,style:C.option,value:a},n)}))),c.createElement(p.a,{style:[C.dropdownCaret,u&&C.dropdownCaretFocused,i&&C.dropdownCaretError]}))),s?this._renderHelperText():null)},n._renderLabel=function(){var e=this.props,t=e.hasError,n=e.label,a=this.state.isFocused;return c.createElement(d.b,{color:t?"red":a?"primary":"deepGray",style:C.label},n)},n._renderHelperText=function(){return c.createElement(_.a,{accessibilityLiveRegion:"polite"},c.createElement(d.b,{color:"deepGray",style:C.helperText},this.props.helperText))},t}(c.PureComponent);l()(y,"defaultProps",{disabled:!1,autofocus:!1,withEmptyOption:!1}),y.propTypes={};var C=m.a.create((function(e){return{container:{backgroundColor:e.colors.faintGray,paddingHorizontal:e.spaces.xSmall,borderWidth:e.borderWidths.none},disabled:{cursor:"default",opacity:.5},dropdownCaret:{color:e.colors.deepGray,height:"1.5em",pointerEvents:"none",position:"absolute",marginTop:"-0.75em",top:"50%",right:0},dropdownCaretFocused:{color:e.colors.primary},dropdownContainer:{position:"relative"},bottomBorder:{borderBottomWidth:e.borderWidths.medium,borderBottomColor:e.colors.deepGray,borderRadius:e.borderWidths.medium},bottomBorderFocused:{borderBottomColor:e.colors.primary},bottomBorderDisabled:{borderBottomColor:e.colors.transparent},dropdownCaretError:{color:e.colors.red},bottomBorderError:{borderBottomColor:e.colors.red},label:{alignSelf:"flex-start",paddingTop:e.spaces.xxSmall},option:{backgroundColor:e.colors.navigationBackground},select:{appearance:"none",backgroundColor:"transparent",borderRadius:0,borderWidth:e.borderWidths.none,color:e.colors.text,cursor:"pointer",fontSize:e.fontSizes.large,margin:0,outlineStyle:"none",padding:0,paddingRight:"1.5em",paddingVertical:e.spaces.small},selectWithLabel:{paddingBottom:e.spaces.xxSmall,paddingTop:e.spaces.micro},helperText:{alignSelf:"flex-start",paddingHorizontal:e.spaces.xSmall,paddingTop:e.spaces.xxSmall}}}));t.a=y},MXY2:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("3XMw"),r=n.n(a),o=r.a.c6432564,i=r.a.ia04f5a9,s=r.a.ce6d3a76,l=r.a.h6994d0e,c=r.a.h2328df0,d=function(e){var t=e.inReplyToStatus&&!e.isSelfThreadReply;return e.isScheduled?c:e.isQuoteTweet?s:e.isRetweet?s:t?l:e.isThread?i:o}},SotI:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("PN9k");var a=i(n("7DT3")),r=i(n("ERkP")),o=i(n("OkZJ"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M16.04 7.266c-.45 0-.815.297-.947.7l-.03.113s-1.064-1.397-3.277-1.397c-2.855 0-4.928 2.4-4.928 5.706 0 2.495 1.755 4.525 3.912 4.525 2.307 0 3.632-1.492 3.632-1.492s.597 1.75 3.503 1.75c.49 0 4.837-.297 4.837-5.172 0-5.923-4.82-10.743-10.744-10.743-5.922 0-10.74 4.82-10.74 10.743 0 5.924 4.818 10.743 10.742 10.743 2.244 0 4.04-.544 5.82-1.765.163-.112.273-.283.31-.48s-.005-.394-.118-.557c-.224-.327-.71-.418-1.037-.193-1.516 1.04-3.05 1.504-4.976 1.504-5.102 0-9.25-4.15-9.25-9.25S6.9 2.75 12 2.75 21.25 6.9 21.25 12c0 2.916-1.822 3.9-3.234 3.9-.53 0-2.234-.213-1.906-2.103 0 0 .938-5.4.938-5.523-.002-.557-.452-1.008-1.01-1.008zm-2.235 6.55c-.58.83-1.378 1.305-2.247 1.335l-.105.003c-1.483 0-2.52-1.112-2.578-2.768-.075-2.12 1.366-3.964 3.146-4.027l.102-.002c1.423 0 2.417 1.07 2.474 2.66.035 1.024-.245 2.018-.79 2.8z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},Ub51:function(e,t,n){"use strict";n("p+GS"),n("AJ0U"),n("LnO1"),n("3eMz"),n("4oWw"),n("T3IU"),n("DZyD"),n("rmZQ"),n("XIU7"),n("PN9k"),n("yKDW"),n("dtAy");var a=n("pVnL"),r=n.n(a),o=n("W8MJ"),i=n.n(o),s=n("PJYZ"),l=n.n(s),c=n("VbXa"),d=n.n(c),u=n("lSNA"),p=n.n(u),m=n("ERkP"),h=(n("yIC7"),n("wpu3")),f=(n("cI1W"),n("KYm4"),Object.freeze({all:"all",community:"community",by_invitation:"by_invitation"})),g=n("3XMw"),_=n.n(g),v=n("SotI"),b=n.n(v),y=n("Vjl/"),C=n.n(y),x=n("dsgH"),w=n.n(x),T=n("3xO4"),S=n.n(T),E=n("t62R"),R=n("CKsB"),I=n("/yvb"),k=n("rHpw"),M=_.a.icc603ab,A=_.a.a3b08d3c,B=_.a.c7443dba,O=_.a.e65d7b68,D=_.a.j3965e7f,P=_.a.f4c9593e,L=k.a.create((function(e){return{root:{flexDirection:"column",paddingTop:e.spaces.small,paddingBottom:e.spaces.xxSmall,backgroundColor:e.colors.cellBackground,borderRadius:e.borderRadii.large},popover:{maxWidth:5*parseInt(e.spaces.jumbo,10)},modal:{borderRadius:0},title:{flexDirection:"column",paddingHorizontal:e.spaces.small,marginBottom:e.spaces.xSmall},menuRow:{flexDirection:"row",paddingTop:e.spaces.xSmall,paddingBottom:e.spaces.xSmall,alignItems:"center",borderRadius:e.spaces.xxSmall},cancelButton:{marginHorizontal:e.spaces.small,marginVertical:e.spaces.small}}})),F=function(e){var t=e.dismiss,n=e.isModal,a=e.value,r=function(t){return function(){e.onChange(t),e.dismiss()}};return m.createElement(S.a,{accessibilityRole:"dialog","aria-describedby":"conversation-controls-details","aria-labelledby":"conversation-controls-title",style:[L.root,n?L.modal:L.popover]},m.createElement(S.a,{style:L.title},m.createElement(E.b,{nativeID:"conversation-controls-title",weight:"bold"},M),m.createElement(E.b,{color:"deepGray",nativeID:"conversation-controls-details",size:"normal"},A)),m.createElement(S.a,null,m.createElement(R.a,{Icon:C.a,actionText:B,isSelected:f.all===a,onClick:r(f.all),selectable:!0,style:L.menuRow,withIconAsThumbnail:!0}),m.createElement(R.a,{Icon:w.a,actionText:O,isSelected:f.community===a,onClick:r(f.community),selectable:!0,style:L.menuRow,withIconAsThumbnail:!0}),m.createElement(R.a,{Icon:b.a,actionText:D,isSelected:f.by_invitation===a,onClick:r(f.by_invitation),selectable:!0,style:L.menuRow,withIconAsThumbnail:!0}),e.isModal?m.createElement(I.a,{key:"button_cancel",onPress:t,style:L.cancelButton,type:"neutral"},P):null))},j=n("//Cj"),H=n.n(j),z=n("Y22M"),V=n.n(z),N=n("6XI6"),W=n.n(N),U=n("Irs7"),G=n("sgih"),q=n("OiMc"),K=n("cHvH"),X=Object.freeze({all:{Icon:V.a,label:_.a.bfc44ab1},community:{Icon:W.a,label:_.a.d13051c7},by_invitation:{Icon:H.a,label:_.a.bb703e3a}}),J=Object(U.a)((function(e){var t=X[e.value],n=t.Icon,a=t.label,o=e.analytics,i=e.disabled,s=e.hidden,l=m.useCallback((function(t){return m.createElement(F,r()({},e,{dismiss:t}))}),[e]),c=m.useCallback((function(t){return m.createElement(G.a,{onMaskClick:t,type:"bottom",withKeyboardNavigation:!0,withMask:!0},m.createElement(F,r()({},e,{dismiss:t,isModal:!0})))}),[e]),d=m.useCallback((function(e){o.scribe({element:"conversation_control",action:"click"})}),[o]);return m.createElement(m.Fragment,null,m.createElement(S.a,{style:[Q.container,s&&Q.hidden]},m.createElement(K.a,null,(function(e){return e.screenWidth<k.a.theme.breakpoints.small?m.createElement(I.a,{disabled:i,onPress:d,renderMenu:c,size:"small",style:Q.button,type:"text"},m.createElement(n,null)," ",a):m.createElement(S.a,null,m.createElement(q.a,{disabled:i,enableEnterKeyToggle:!0,renderContent:l,withArrow:!0},m.createElement(I.a,{disabled:i,onPress:d,size:"small",style:Q.button,type:"text"},m.createElement(n,null)," ",a)))}))),m.createElement(S.a,{style:[Q.separator,s&&Q.hidden]}))})),Q=k.a.create((function(e){return{button:{paddingHorizontal:e.spaces.xxSmall},container:{display:"inline-flex",flexDirection:"row",paddingBottom:e.spaces.xSmall},separator:{height:"1px",backgroundColor:e.colors.borderColor,width:"100%"},hidden:{visibility:"hidden"}}})),Y=n("krmn"),Z=n("wrlS"),$=n("cIoY"),ee=n("w3n3"),te=n("MLl7"),ne=n("l2F/"),ae=n.n(ne),re=n("UZ11"),oe=n.n(re),ie=n("6m7o"),se=n.n(ie),le=n("/aF9"),ce=n.n(le),de=n("EbY/"),ue=n.n(de),pe=n("nGvh"),me=n.n(pe),he=n("B4TA"),fe=n.n(he),ge=n("mlHa"),_e=n.n(ge),ve=n("fI5n"),be=n.n(ve),ye=n("1auM"),Ce=n("Q8CU"),xe=n("QbaN"),we=n("VPdC"),Te=n("B1L3"),Se=n("aWzz"),Ee=n("p+r5"),Re=n("GWvE"),Ie=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,p()(l()(t),"_setInputRef",(function(e){t._inputRef=e})),t}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.defaultValue,a=e.editable,r=e.label,o=e.onChange,i=e.name;return m.createElement(S.a,{style:ke.root},m.createElement(Ee.a,{autoCapitalize:"none",autoCorrect:!1,autoFocus:t,defaultValue:n,editable:a,label:r,maxLength:25,name:i,onChange:o,ref:this._setInputRef,spellCheck:"false",style:ke.formTextInput}))},i()(t,[{key:"value",get:function(){return this._inputRef&&this._inputRef.getValue()}},{key:"isValid",get:function(){var e=this.props.optional;return!this.value&&e||this.value&&!Object(Re.a)(this.value)&&this._inputRef&&this._inputRef.isValidLength()}}]),t}(m.Component);p()(Ie,"defaultProps",{autoFocus:!1,editable:!0,optional:!1});var ke=k.a.create((function(e){return{root:{flexDirection:"row",flexShrink:1},action:{width:e.spaces.xLarge},addButton:{flexGrow:1,minHeight:"100%",padding:0},formTextInput:{flexGrow:1,flexShrink:1,marginVertical:0,paddingTop:0,paddingHorizontal:0,paddingBottom:e.spaces.xSmall}}})),Me=Ie,Ae=n("mtvn"),Be=n("6XNv"),Oe=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.editable,n=e.label,a=e.last,r=e.max,o=e.min,i=e.onChange,s=!t||o===r,l=e.value.toString(),c=Object(Ae.a)(o,r+1).map((function(e){return{label:""+e,value:""+e}}));return m.createElement(Be.a,{disabled:s,label:n,onChange:i,options:c,style:[De.selector,!a&&De.rightMargin],value:l})},t}(m.PureComponent);p()(Oe,"defaultProps",{last:!1});var De=k.a.create((function(e){return{rightMargin:{marginRight:e.spaces.medium},selector:{flexGrow:1}}})),Pe=Oe,Le=_.a.f1857af8,Fe=_.a.j762011b,je=_.a.i58784ec,He=_.a.f1e5e8ea,ze=5,Ve=function(e){function t(t,n){var a;return a=e.call(this,t,n)||this,p()(l()(a),"_handleDaysChange",(function(e){var t=parseInt(e,10);a.setState((function(e){var n=e.duration,a=n.hours,r=n.minutes,o=0===t&&0===a&&0===r?1:7===t?0:a;return{duration:{days:t,hours:o,minutes:7===t?0:0===t&&0===o&&r<ze?ze:r}}}))})),p()(l()(a),"_handleHoursChange",(function(e){var t=parseInt(e,10);a.setState((function(e){var n=e.duration,a=n.days,r=n.minutes;return{duration:{days:a,hours:t,minutes:0===a&&0===t&&r<ze?ze:r}}}))})),p()(l()(a),"_handleMinutesChange",(function(e){var t=parseInt(e,10);a.setState((function(e){var n=e.duration;return{duration:{days:n.days,hours:n.hours,minutes:t}}}))})),a.state={duration:t.initialDuration},a}d()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.style,n=e.isActive;return m.createElement(S.a,{style:t},m.createElement(E.b,{color:"normal",style:Ne.durationLabel},n?Le:""),this._renderPicker())},n._renderPicker=function(){var e=this.props,t=e.editable,n=e.isActive,a=this.state.duration,r=a.days,o=a.hours,i=a.minutes;return m.createElement(S.a,{style:Ne.durationControls},m.createElement(Pe,{editable:t&&n,label:Fe,max:7,min:0,onChange:this._handleDaysChange,value:r}),m.createElement(Pe,{editable:t&&n,label:je,max:7===r?0:23,min:0,onChange:this._handleHoursChange,value:o}),m.createElement(Pe,{editable:t&&n,label:He,last:!0,max:7===r?0:59,min:0===r&&0===o?ze:0,onChange:this._handleMinutesChange,value:i}))},i()(t,[{key:"duration",get:function(){return this.state.duration}}]),t}(m.Component);p()(Ve,"defaultProps",{editable:!0,initialDuration:{days:1,hours:0,minutes:0}});var Ne=k.a.create((function(e){return{durationControls:{flexDirection:"row",justifyContent:"space-between"},durationLabel:{marginBottom:e.spaces.xxSmall}}})),We=Ve,Ue=n("jtO7"),Ge=_.a.j2719475,qe=_.a.jf7d5325,Ke=_.a.f8105840,Xe=_.a.daf7b547,Je=_.a.c121469b,Qe=_.a.if26fbf4,Ye=function(e){function t(t,n){var a;a=e.call(this,t,n)||this,p()(l()(a),"_setChoice1Ref",(function(e){a._choice1=e})),p()(l()(a),"_setChoice2Ref",(function(e){a._choice2=e})),p()(l()(a),"_setChoice3Ref",(function(e){a._choice3=e})),p()(l()(a),"_setChoice4Ref",(function(e){a._choice4=e})),p()(l()(a),"_setDurationPickerRef",(function(e){a._durationPicker=e})),p()(l()(a),"_handleValidation",(function(){var e=a.props,t=e.onValid,n=e.onInvalid,r=a.choices,o=l()(a),i=[o._choice1,o._choice2,o._choice3,o._choice4].filter(Boolean).every((function(e){return e.isValid}));r&&r.length>=2&&i?t():n()})),p()(l()(a),"_handleAdd",(function(){a.props.analytics.scribe({element:"add_poll_option",action:"click"}),a.setState((function(e){return{autoFocus:!0,choiceCount:e.choiceCount+1}}))}));var r=t.initialChoices,o=void 0===r,i=(r||[]).length,s=i>2?i:2;return a.state={autoFocus:o,choiceCount:s},a}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.editable,n=e.initialChoices,a=void 0===n?[]:n,r=e.initialDuration,o=e.isActive,i=e.onRemove,s=this.state,l=s.autoFocus,c=s.choiceCount;return m.createElement(S.a,{style:Ze.root},m.createElement(S.a,{style:Ze.choicesAndAddButton},m.createElement(S.a,{style:Ze.choices},m.createElement(Me,{autoFocus:l,defaultValue:a[0],editable:t&&o,label:Ge,name:"Choice1",onChange:this._handleValidation,ref:this._setChoice1Ref}),m.createElement(Me,{defaultValue:a[1],editable:t&&o,label:qe,name:"Choice2",onChange:this._handleValidation,ref:this._setChoice2Ref}),c>=3?m.createElement(Me,{autoFocus:l,defaultValue:a[2],editable:t&&o,label:Ke,name:"Choice3",onChange:this._handleValidation,optional:!0,ref:this._setChoice3Ref}):null,4===c?m.createElement(Me,{autoFocus:l,defaultValue:a[3],editable:t&&o,label:Xe,name:"Choice4",onChange:this._handleValidation,optional:!0,ref:this._setChoice4Ref}):null),m.createElement(S.a,{style:Ze.rightColumn},c<4?m.createElement(I.a,{accessibilityLabel:Qe,disabled:!(t&&o),icon:m.createElement(fe.a,null),onPress:this._handleAdd,size:"normal",style:Ze.addButton,type:"text"}):null)),m.createElement(We,{editable:t,initialDuration:r,isActive:o,ref:this._setDurationPickerRef,style:Ze.durationPicker}),m.createElement(S.a,{style:Ze.removePollButton},m.createElement(Ue.a,{color:"red",label:Je,onPress:i,withBottomBorder:!1})))},i()(t,[{key:"choices",get:function(){var e=this._choice1,t=this._choice2,n=this._choice3,a=this._choice4;return[e&&e.value,t&&t.value,n&&n.value,a&&a.value].filter(Boolean)}},{key:"duration",get:function(){return this._durationPicker?this._durationPicker.duration:void 0}}]),t}(m.Component),Ze=k.a.create((function(e){return{root:{flexDirection:"column",backgroundColor:e.colors.transparent,borderColor:e.colors.nestedBorderColor,borderRadius:e.borderRadii.large,borderStyle:"solid",borderWidth:e.borderWidths.small,paddingTop:e.spaces.xSmall,overflow:"hidden"},choicesAndAddButton:{paddingLeft:e.spaces.small,paddingRight:e.spaces.small,flexDirection:"row"},choices:{flexGrow:1,flexShrink:1,marginRight:e.spaces.xxSmall},removePollButton:{borderBottomLeftRadius:e.borderRadii.large,borderBottomRightRadius:e.borderRadii.large},rightColumn:{flexDirection:"column-reverse",marginRight:"calc(-1 * "+e.spaces.xSmall+")",paddingBottom:e.spaces.xSmall,width:e.spaces.xLarge},addButton:{marginBottom:e.spaces.large},durationPicker:{borderTopColor:e.colors.nestedBorderColor,borderTopWidth:1,borderBottomColor:e.colors.nestedBorderColor,borderBottomWidth:1,paddingBottom:e.spaces.xSmall,paddingLeft:e.spaces.small,paddingRight:e.spaces.small,paddingTop:e.spaces.xSmall}}})),$e=Object(U.a)(Ye),et=n("VoLI"),tt=n("rcen"),nt=n("zmS9"),at=n("WPfJ"),rt=k.a.create((function(e){return{root:{paddingHorizontal:e.componentDimensions.gutterHorizontal},avatarContainerExpanded:{paddingTop:e.spaces.xxSmall},avatarContainer:{justifyContent:"center"},avatar:{width:"100%"},rightColumn:{justifyContent:"center",position:"static",transitionProperty:"opacity, color",transitionDuration:"0.1s",transitionTimingFunction:"ease-out"},composeBoxContainer:{display:"flex",flexDirection:"column",flexGrow:1,flexShrink:1,position:"static",zIndex:1},inputArea:{zIndex:1},dragDrop:{borderColor:e.colors.transparent,borderRadius:e.borderRadii.medium,borderStyle:"solid",borderWidth:e.borderWidths.medium},textInputArea:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",zIndex:at.f},textInputStyle:{paddingHorizontal:0},textInputMobileCollapsed:{maxHeight:e.fontSizes.xLarge,padding:0},tweetAttachmentArea:{zIndex:at.e},iconEmojiPicker:{zIndex:at.c},toolBar:{alignItems:"center",backgroundColor:e.colors.cellBackground,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginHorizontal:e.spaces.micro,zIndex:at.a},firstToolBarButton:{marginLeft:"-"+e.spaces.xSmall},toolBarButton:{marginHorizontal:0},toolBarIconsContainer:{alignItems:"center",flexDirection:"row",marginTop:e.spaces.xSmall},separator:{width:"1px",backgroundColor:e.colors.mediumGray,height:e.fontSizes.jumbo,marginRight:e.spaces.xSmall,marginLeft:"calc("+e.spaces.xSmall+" - 2px)"},conversationLine:{alignSelf:"center",backgroundColor:e.colors.lightGray,flexGrow:1,flexShrink:1,minHeight:0,width:e.componentDimensions.conversationLineWidth,marginTop:e.spaces.xxSmall,marginBottom:e.spaces.xxSmall},conversationLineWithOverflow:{marginTop:"-"+e.spaces.xxSmall},attachmentContainer:{marginTop:e.spaces.xxSmall,marginBottom:e.spaces.xxSmall},mediaPreview:{marginTop:e.spaces.xxSmall},quoteTweet:{backgroundColor:e.colors.transparent,marginTop:e.spaces.xxSmall,marginBottom:0},addImageTextContainer:{alignSelf:"flex-start",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},noBackground:{backgroundColor:e.colors.transparent},addImageActionIcon:{marginRight:e.spaces.micro},addImageTextPadding:{marginEnd:e.spaces.xxLarge},imageActions:{alignItems:"center",flexDirection:"row",flexWrap:"wrap",marginTop:e.spaces.xxSmall},blurStyle:{opacity:.5},inputStyle:{paddingTop:e.spaces.xxSmall,width:"100%"},collapsedInputStyle:{flexGrow:1,flexShrink:1}}})),ot={addButton:"addButton",altTextLabel:"altTextLabel",attachments:"attachments",composeBoxContainer:"composeBoxContainer",taggedUsersLabel:"taggedUsersLabel",textareaPrefix:"tweetTextarea_",toolBar:"toolBar",scheduleOption:"scheduleOption"},it=n("xM7j"),st=n("6OUF"),lt=n("mjJ+"),ct=n("tZIO"),dt=n("5mJL"),ut=n("DNho"),pt=n("oSwX"),mt=n("rFBM"),ht=n("zfvc"),ft=n("yTN1"),gt=n("gpVt"),_t=n("oQhu"),vt=n("YeIG"),bt=n("pKoL"),yt=n("9Xij"),Ct=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.media,n=e.style;return m.createElement(S.a,{style:n},this._renderImageGroup(t.length))},n._renderImageGroup=function(e){switch(e){case 1:return this._renderGroupOf1();case 2:return this._renderGroupOf2();case 3:return this._renderGroupOf3();case 4:return this._renderGroupOf4();default:return null}},n._renderGroupOf1=function(){var e=this.props.media,t=e&&!!e[0].mediaFile,n=e&&!t&&e[0].externalMediaDetails||{},a=n.width,r=n.height;return m.createElement(yt.a,{ratio:t?k.a.theme.aspectRatios.landscape:a/r},m.createElement(S.a,{style:xt.mediaPreviewWrapper},this._renderMediaAtIndex(0)))},n._renderGroupOf2=function(){return m.createElement(yt.a,{ratio:k.a.theme.aspectRatios.landscape},m.createElement(S.a,{style:xt.mediaPreviewWrapper},this._renderMediaAtIndex(0,xt.gutterRight),this._renderMediaAtIndex(1)))},n._renderGroupOf3=function(){return m.createElement(yt.a,{ratio:k.a.theme.aspectRatios.landscape},m.createElement(S.a,{style:xt.mediaPreviewWrapper},this._renderMediaAtIndex(0,xt.gutterRight),this._renderColumnWithIndices([1,2])))},n._renderGroupOf4=function(){return m.createElement(yt.a,{ratio:k.a.theme.aspectRatios.landscape},m.createElement(S.a,{style:xt.mediaPreviewWrapper},this._renderColumnWithIndices([0,2],xt.gutterRight),this._renderColumnWithIndices([1,3])))},n._renderColumnWithIndices=function(e,t){return m.createElement(S.a,{style:[xt.column,t]},this._renderMediaAtIndex(e[0],xt.gutterBottom),this._renderMediaAtIndex(e[1]))},n._renderMediaAtIndex=function(e,t){var n=this.props,a=n.media,r=n.mediaMetadata,o=n.editable,i=n.isActive,s=n.onClickMedia,l=n.onEditMedia,c=n.onRemoveMedia,d=n.onSetMediaPreviewRef,u=a[e],p=u.id.toString(),h=r&&r[p]&&r[p].altText,f=r&&r[p]&&r[p].defaultAltText;return m.createElement(bt.a,{accessibilityLabel:h||f,accessibilityRole:"group",enableGif:i,key:u.id,mediaItem:u,onClick:s?s(u.id):void 0,onEdit:l?l(u.id):void 0,onRemove:c(u.id),ref:d,style:[xt.mediaContainer,t],withAltTextLabel:!!h,withCloseButton:o&&i,withEditButton:l&&o&&i})},t}(m.Component),xt=k.a.create((function(e){return{column:{flexDirection:"column",flexGrow:1,flexBasis:0},gutterRight:{marginRight:e.spaces.xSmall},gutterBottom:{marginBottom:e.spaces.xSmall},mediaContainer:{borderRadius:e.borderRadii.large,transitionProperty:"width",transitionDuration:"0.1s",transitionTimingFunction:"ease-out",overflow:"hidden",flexGrow:1,flexBasis:0},mediaPreviewWrapper:{flexDirection:"row",height:"100%"}}})),wt=n("S1qy"),Tt=n.n(wt),St=n("cjAp"),Et=n.n(St),Rt=_.a.a8694a8b,It=_.a.c2332d52,kt=_.a.a380d0ab,Mt=_.a.dee3bef4,At=_.a.e25ce40e,Bt=_.a.gaea80bc,Ot=_.a.ea24bfb8,Dt=_.a.j52f0636,Pt=_.a.ee3ade11,Lt=_.a.ba2da248,Ft=_.a.b973c93e,jt=_.a.dd07db38,Ht=_.a.bc5a0502,zt=_.a.ad62343c,Vt=_.a.d4fa2603,Nt=["ja","zh-cn","zh-tw","ko"],Wt=_.a.ia24dc8c,Ut=m.createElement(ae.a,null),Gt=m.createElement(fe.a,null),qt=m.createElement(_e.a,null),Kt=m.createElement(ce.a,null),Xt=m.createElement(be.a,null),Jt=function(e){function t(t){var n;n=e.call(this,t)||this,p()(l()(n),"_handleConversationControlsValueChange",(function(e){n.props.updateConversationControlsValue(e)})),p()(l()(n),"_triggerConversationControlsImpression",Object(_t.a)((function(){return Z.a.isTrue("conversation_controls_limited_replies_creation_enabled")}))),p()(l()(n),"_renderConversationControls",(function(e){var t=n.state.isFocused,a=n.props,r=a.conversationControlsValue,o=a.isActive,i=a.isInline,s=a.isReply;if(s||!t&&i||n._triggerConversationControlsImpression(),!n._conversationControlsCreationEnabled)return null;var l=o&&!s&&(!i||(t||e)),c=!l&&!i;return c||l?m.createElement(J,{disabled:n._isScheduled(),hidden:c,onChange:n._handleConversationControlsValueChange,value:r}):null})),p()(l()(n),"_renderMainContent",(function(){var e=n.props,t=e.additionalToolbarContent,a=e.autoFocus,r=e.data,o=e.editable,i=e.index,s=e.isActive,l=e.isExpanded,c=e.isInline,d=e.isInlineReply,u=e.isLast,p=e.keyCommandHandlers,h=e.onFilesAdded,f=e.onTextInputBlur,g=e.onTypeaheadStateChange,_=e.positionCursorAtBeginning,v=e.richTextInputContext,b=r.cardUrl,y=r.media,C=r.pollActive,x=r.quotedStatus,w=r.text,T=n._composerCardPreviewsEnabled&&Object(gt.b)(w),E=!!y.length||C||!!x,R=0===i&&u,I=n.props.typeaheadWrapper,k=!!v,M=v||{},A=M.element,B=M.sendTweetCommandName,O=M.dismissComposerCommandName,D=v?{dismissComposerCommandName:O,editorState:n.state.editorState,element:A,sendTweetCommandName:B}:void 0,P=d&&!v&&!l;return m.createElement(S.a,{style:rt.textInputArea},m.createElement(S.a,{style:l?rt.inputStyle:rt.collapsedInputStyle},m.createElement(I,{contextText:w,isInline:c,onTextUpdated:n._handleTextChange,onTypeaheadStateChange:g},(function(e){return m.createElement(st.a,{appTextSize:"large",ariaLabel:Mt,autoFocus:a||s&&!c,closeButton:s&&n._isEmpty()&&!R?n._renderCloseButton():void 0,contentBelow:n._renderTweetAttachment(),editable:o,inputStyle:[rt.textInputStyle,P&&rt.textInputMobileCollapsed],keyCommandHandlers:p,maxNumberOfLines:k?30:10,multiline:!0,numberOfLines:n._calcNumberOfLines(),onBlur:f,onChange:n._getHandleChange(e),onFilesAdded:h,placeholder:n._getPlaceHolderText(),positionCursorAtBeginning:_,positionCursorAtEnd:!_,ref:n._setTextInputRef,richTextInputContext:D,style:rt.noBackground,styleType:"selection",testID:""+ot.textareaPrefix+i,value:w})})),T&&!E?m.createElement(gt.a,{index:i,isCardPreviewTombstoned:Object(gt.c)(b),urls:T}):null),l?null:t)})),p()(l()(n),"_calcNumberOfLines",(function(){var e=n.props,t=e.richTextInputContext,a=e.isInline,r=e.data,o=!!t,i=r.media,s=r.pollActive,l=r.quotedStatus;return o?a||i.length||s||l?1:6:4})),p()(l()(n),"_renderScheduledTweetLegend",(function(){var e=n.props.scheduledFor;return m.createElement(nt.a,{onPress:n._handlePressScheduledTweetLegend,scheduledFor:e})})),p()(l()(n),"_handlePressScheduledTweetLegend",(function(){var e=n.props,t=e.history,a=e.analytics,r=e.setActiveParentKey;t.push("/compose/tweet/schedule"),a.scribe({element:"tweet_legend",action:"click"}),r()})),p()(l()(n),"_renderEmojiPicker",(function(){return m.createElement(Y.a,{onEmojiSelect:n._handleInsertEmoji,size:"normal",style:n._getEmojiPickerButtonStyles(),textInputRef:n._textInputRef||void 0})})),p()(l()(n),"_getEmojiPickerButtonStyles",Object(_t.a)((function(){return[rt.iconEmojiPicker,rt.toolBarButton]}))),p()(l()(n),"_renderSchedulingEntryPoint",(function(){return n._tweetSchedulingEnabled?"overflow"===n._tweetSchedulingEntryPoint?n._renderMoreOptions():n._renderSchedulingButton():null})),p()(l()(n),"_renderMoreOptions",(function(){return m.createElement(I.a,{accessibilityLabel:It,icon:Kt,renderMenu:n._renderOverflowMenu,size:"normal",style:rt.toolBarButton,type:"text"})})),p()(l()(n),"_isSchedulingDisabled",(function(){var e=n.props,t=e.conversationControlsValue,a=e.index,r=e.isLast,o=e.data,i=o.pollActive,s=o.quotedStatus,l=o.text,c=o.media,d=o.mediaTags,u=0===a&&r,p=t!==f.all;return Boolean(i||!u||s&&""===l&&!c.length||p||d.length>0)})),p()(l()(n),"_renderOverflowMenu",(function(e){var t=n.props.analytics,a=ot.scheduleOption;return t.scribe({element:"more_options_menu",action:"click"}),m.createElement(lt.a,{items:[{text:kt,Icon:be.a,disabled:n._isSchedulingDisabled(),testID:a,onClick:function(){e(),n._handleClickScheduler()}}],onCloseRequested:e})})),p()(l()(n),"_renderSchedulingButton",(function(){return m.createElement(I.a,{accessibilityLabel:kt,disabled:n._isSchedulingDisabled(),icon:Xt,onClick:n._handleClickScheduler,size:"normal",style:rt.toolBarButton,testID:ot.scheduleOption,type:"text"})})),p()(l()(n),"_handleClickScheduler",(function(){var e=n.props,t=e.analytics,a=e.history,r=e.setActiveParentKey;a.push("/compose/tweet/schedule"),t.scribe({element:"schedule_tweet",action:"click"}),r()})),p()(l()(n),"_renderCloseButton",(function(){var e=n.props.onRemoveComposer;return m.createElement(I.a,{accessibilityLabel:Ot,icon:Ut,onPress:e,size:"small",type:"text"})})),p()(l()(n),"_renderTweetAttachment",(function(){var e=n.props,t=e.data,a=e.editable,r=e.isActive,o=t.media,i=t.mediaMetadata,s=t.pollActive,l=t.initialPollChoices,c=t.initialPollDuration,d=t.quotedStatus;return 0!==o.length||s||d?m.createElement(S.a,{onClick:n._handleFocus,style:[rt.attachmentContainer,rt.tweetAttachmentArea],testID:ot.attachments},o.length>0?m.createElement(Ct,{editable:a,isActive:r,media:o,mediaMetadata:i,onClickMedia:n.hasAttachedImage?n._handleClickMediaDetail:void 0,onEditMedia:n.hasAttachedImage?n._handleClickMediaDetail:void 0,onRemoveMedia:n._handleMediaRemoveFactory,onSetMediaPreviewRef:n._handleSetMediaPreviewRef,style:rt.mediaPreview}):null,r?n._renderMediaActions():null,s?m.createElement($e,{editable:a,initialChoices:l,initialDuration:c,isActive:r,onInvalid:n._handlePollInvalid,onRemove:n._handlePollRemove,onValid:n._handlePollValid,ref:n._setPollCreatorRef}):null,d?n._renderQuoteTweet(d):null):null})),p()(l()(n),"_renderQuoteTweet",(function(e){var t=n.props.data.media,a=e.tombstoneInfo;return a&&a.richText?m.createElement(it.a,null,m.createElement(tt.b,{entities:a.richText.entities,rtl:a.richText.rtl,text:a.richText.text})):m.createElement(et.a,{isCondensed:t.length>0,shouldAnimate:!0,shouldTruncate:!1,style:rt.quoteTweet,tweet:e,withLink:!1,withUserHoverCard:!1})})),p()(l()(n),"_renderToolbar",(function(e){var t=n.props,a=t.additionalToolbarContent,r=t.hidePollAndScheduling,o=t.isReply,i=t.richTextInputContext,s=t.isSelfThreadReply,l=!!i,c=!t.isInlineReply&&!r;return m.createElement(S.a,{style:rt.toolBar,testID:ot.toolBar},m.createElement(S.a,{style:rt.toolBarIconsContainer},n._renderMediaPickerButton(),n._renderGifButton(),c?n._renderPollButton():null,l?n._renderEmojiPicker():null,c?n._renderSchedulingEntryPoint():null),m.createElement(S.a,{style:rt.toolBarIconsContainer},e?n._renderCountdownCircle():null,o&&!s||!e?null:m.createElement(m.Fragment,null,m.createElement(S.a,{style:rt.separator}),n._renderAddComposerButton()),a))})),p()(l()(n),"_addOverflowStyle",(function(e){var t=n.props.richTextInputContext;if(t){var a=e.getCurrentContent().getPlainText(),r=a.length,o=n._getParsedTweet(a).validRangeEnd,i=o+1<r;if(n.state.hasOverflowStyle||i){var s=i?o+1:-1;return{editorState:t.updateOverflowStyle&&t.updateOverflowStyle(e,s,n.state.hasOverflowStyle),hasOverflowStyle:i}}return{editorState:e,hasOverflowStyle:i}}})),p()(l()(n),"_getHandleChange",Object(_t.a)((function(e){return function(t){e(t),n._handleTextChange(t)}}))),p()(l()(n),"_handleTextChange",(function(e){var t,a=n.props,r=a.data,o=r.key,i=r.text,s=a.onTextChange,l=a.richTextInputContext;if(l){t=e.getCurrentContent().getPlainText();var c=l.convertEmojiToEntities(e);n.setState(n._addOverflowStyle(c))}else t=ct.a.replaceCarriageReturns(e.target.value);i!==t&&s(t,o)})),p()(l()(n),"_handleClickAltTextShortcut",(function(){n.props.analytics.scribe({element:"alt_text_button",action:"click"})})),p()(l()(n),"_handleClickMediaDetail",(function(e){return function(){var t=n.props,a=t.analytics,r=t.history;a.scribe({element:"media_detail_button",action:"click"}),n.hasAttachedImage&&r.push("/compose/tweet/media",{mediaId:e,tab:"crop"})}})),p()(l()(n),"_handleDragDrop",(function(e){var t=n.props,a=t.addToast,r=t.data.pollActive,o=t.onFilesAdded;r?a({text:At}):o(e)})),p()(l()(n),"_handleMediaRemoveFactory",(function(e){return function(){n.props.onRemoveMedia(n.props.index,e)}})),p()(l()(n),"_handleInsertEmoji",(function(e){var t=n.state.editorState,a=n.props.richTextInputContext;if(a){var r=a.insertTextAtCursor(t,e.text);n._handleTextChange(r)}})),p()(l()(n),"_validateMedia",(function(e){var t=n.props.data.media;return h.c(t.concat(e))})),p()(l()(n),"_handlePollAdd",(function(){var e=n.props,t=e.analytics,a=e.index,r=e.updateSingleComposer;t.scribe({element:"add_poll",action:"click"}),r({pollActive:!0},a)})),p()(l()(n),"_handlePollRemove",(function(){var e=n.props,t=e.analytics,a=e.index,r=e.updateSingleComposer;t.scribe({element:"remove_poll",action:"click"}),r({pollActive:!1},a)})),p()(l()(n),"_handlePollInvalid",(function(){var e=n.props,t=e.data.pollValid,a=e.index,r=e.updateSingleComposer;t&&r({pollValid:!1},a)})),p()(l()(n),"_handlePollValid",(function(){var e=n.props,t=e.data.pollValid,a=e.index,r=e.updateSingleComposer;!t&&r({pollValid:!0},a)})),p()(l()(n),"_handleFocus",(function(){var e=n.props,t=e.isActive,a=e.index,r=e.onFocus;(0,e.setActiveParentKey)(),t||(window.requestAnimationFrame((function(){n._mediaPreviewRef&&n._mediaPreviewRef._playVideo()})),r(a))})),p()(l()(n),"_handleEditorFocus",(function(){return n.setState({isFocused:!0})})),p()(l()(n),"_formatCountdownNumber",(function(e){return Wt(Math.ceil(e/n._userLanguageWeight))})),p()(l()(n),"_getPlaceHolderText",(function(){var e=n.props,t=e.data,a=t.quotedStatus,r=t.pollActive,o=e.isReply,i=e.isSelfThreadReply,s=e.index;return a?Ht:r?Vt:o&&!i?zt:i||s>0?jt:Ft})),p()(l()(n),"_getNumberOfAltTextEntries",(function(){var e=n.props.data,t=e.mediaMetadata;return e.media.reduce((function(e,n){var a;return t&&!Object(vt.a)(null===(a=t[n.id.toString()])||void 0===a?void 0:a.altText)?e+1:e}),0)})),p()(l()(n),"_getParsedTweet",Object(_t.a)((function(e){var t=Et.a[n.props.twitterTextConfigurationVersion];return Tt()(e,t)}))),p()(l()(n),"_isEmpty",(function(){var e=n.props.data;return Object(Ce.b)(e)})),p()(l()(n),"_isScheduled",(function(){var e=n.props.data.scheduledFor;return n._tweetSchedulingEnabled&&Object(xe.h)(e)})),p()(l()(n),"_setPollCreatorRef",(function(e){n._pollCreatorRef=e})),p()(l()(n),"_handleSetMediaPreviewRef",(function(e){n._mediaPreviewRef=e})),p()(l()(n),"_setTextInputRef",(function(e){n._textInputRef=e}));var a=t.richTextInputContext,r=t.userLanguage,o=t.data.text,i=(a||{}).initEditorState;return n._tweetSchedulingEnabled=Z.a.isTrue("responsive_web_scheduling_enabled"),n._tweetSchedulingEntryPoint=Z.a.hasValue("responsive_web_scheduling_entry_point","overflow")?"overflow":"inline",n._composerCardPreviewsEnabled=Z.a.isTrue("responsive_web_composer_card_previews_enabled"),n._conversationControlsCreationEnabled=!0===Z.a.getValueWithoutScribeImpression("conversation_controls_limited_replies_creation_enabled"),n._userLanguageWeight=r&&Nt.indexOf(r)>-1?2:1,n.state={editorState:i&&i(o),hasOverflowStyle:!1,isFocused:!1},n}d()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){(this.hasExternalMedia||this.props.data.media.some((function(e){return e.mediaFile&&!(e.mediaFile instanceof ye.a)&&e.mediaFile.isVideo})))&&e.isActive&&!this.props.isActive&&this._mediaPreviewRef&&this._mediaPreviewRef._pauseVideo()},n.focus=function(){this._textInputRef&&this._textInputRef.focus()},n.render=function(){var e=this,t=this.props,n=t.isActive,a=t.isExpanded,r=t.isInline,o=t.isLast,i=t.loggedInUser,s=t.withAvatar,l=!this._isEmpty();return m.createElement(S.a,{onFocus:this._handleFocus,style:[rt.root,!n&&rt.blurStyle]},m.createElement(dt.a,{avatarCell:m.createElement(m.Fragment,null,s?m.createElement(ut.a.Consumer,null,(function(e){var t=e.avatarSize;return m.createElement(pt.default,{accessibilityLabel:i?i.name:void 0,screenName:i?i.screen_name:void 0,size:t,style:rt.avatar,uri:i?i.profile_image_url_https:void 0,withLink:r})})):null,o?null:m.createElement(S.a,{style:[rt.conversationLine,!s&&rt.conversationLineWithOverflow]})),avatarCellStyle:a?rt.avatarContainerExpanded:rt.avatarContainer,cellStyle:rt.rightColumn},this._tweetSchedulingEnabled?this._renderScheduledTweetLegend():null,m.createElement(S.a,{onFocus:this._handleEditorFocus,style:rt.inputArea},m.createElement(mt.a,{allowDragDrop:!this.mediaAttachDisabled,onDragEnter:this._handleFocus,onFilesAdded:this._handleDragDrop,style:rt.dragDrop},(function(t){return m.createElement(m.Fragment,null,m.createElement(S.a,{style:[rt.composeBoxContainer]},e._renderMainContent()))}))),this._renderConversationControls(l),m.createElement(ht.b,{show:n&&a},this._renderToolbar(l))))},n._renderMediaPickerButton=function(){var e=this.props,t=e.data.media,n=e.onFilesAdded,a=e.setActiveParentKey,r=this.mediaAttachDisabled,o=t.length<3;return m.createElement(we.a,{acceptGifs:0===t.length,disabled:r,multiple:o,onChange:n,onPress:a,style:[rt.toolBarButton,rt.firstToolBarButton],type:"text"})},n._renderGifButton=function(){var e=this.props,t=e.data,n=t.media,a=t.pollActive,r=e.history,o=e.loggedInUser,i=e.setActiveParentKey,s=a||n.length||!o;return m.createElement(ee.a,{enabled:!s,gifSearchKeySource:te.a.Composition,history:r,onPress:i})},n._renderPollButton=function(){var e=this.props,t=e.data,n=t.media,a=t.pollActive,r=t.quotedStatus,o=e.loggedInUser,i=this._isScheduled(),s=!(!(a||n.length||r||i)&&o);return m.createElement(I.a,{accessibilityLabel:Rt,disabled:s,icon:qt,onPress:this._handlePollAdd,size:"normal",style:rt.toolBarButton,type:"text"})},n._renderMediaActions=function(){var e=this.props.data,t=e.gifMetadata,n=e.media,a=0!==e.mediaTags.length,r=n.some((function(e){return e.mediaFile&&e.mediaFile.isGif}))||this.hasExternalMedia;return this.hasAttachedImage||t||r?m.createElement(S.a,{style:rt.imageActions},t&&t.url&&t.provider?m.createElement(S.a,{style:rt.addImageTextPadding},m.createElement($.a,{gifUrl:t.url,provider:t.provider})):null,this.hasAttachedImage&&!this._isScheduled()?m.createElement(E.b,{accessibilityLabel:Lt,color:"deepGray",link:"/compose/tweet/tags",style:[rt.addImageTextContainer,rt.addImageTextPadding]},a?this._renderTaggedUsers():this._renderTagPeopleLabel()):null,this.hasAttachedImage||r?m.createElement(E.b,{accessibilityLabel:Dt({numberOfImages:n.length}),color:"deepGray",link:{pathname:"/compose/tweet/media",state:{mediaId:n[0].id,tab:"alt_text"}},onPress:this._handleClickAltTextShortcut,style:rt.addImageTextContainer},this._renderAltTextLabel()):null):null},n._renderTagPeopleLabel=function(){return m.createElement(E.b,{color:"deepGray",size:"small"},m.createElement(me.a,{style:rt.addImageActionIcon}),Lt)},n._renderTaggedUsers=function(){var e=this.props.data.mediaTags.map((function(e){return{name:e.data.name,screen_name:e.data.screen_name,type:e.type,user_id:e.data.id_str}}));return m.createElement(E.b,{color:"deepGray",size:"small",testID:ot.taggedUsersLabel},m.createElement(ue.a,{style:rt.addImageActionIcon}),m.createElement(Te.a,{users:e}))},n._renderAltTextLabel=function(){var e=this.props.data,t=e.media,n=e.mediaMetadata;return this.hasAttachedAltText?t.length>1?m.createElement(E.b,{color:"deepGray",size:"small",testID:ot.altTextLabel},m.createElement(oe.a,{style:rt.addImageActionIcon}),Pt({numberOfAltTextEntries:this._getNumberOfAltTextEntries()})):m.createElement(E.b,{color:"deepGray",numberOfLines:1,size:"small",testID:ot.altTextLabel},m.createElement(oe.a,{style:rt.addImageActionIcon}),n&&n[t[0].id.toString()]&&n[t[0].id.toString()].altText):m.createElement(E.b,{color:"deepGray",size:"small",testID:ot.altTextLabel},m.createElement(se.a,{style:rt.addImageActionIcon}),Dt({numberOfImages:t.length}))},n._renderCountdownCircle=function(){var e=this.props,t=e.data.text,n=e.twitterTextConfigurationVersion,a=Et.a[n],r=this._getParsedTweet(t).weightedLength;return m.createElement(ft.a,{count:r,formatNumber:this._formatCountdownNumber,maxCount:a.maxWeightedTweetLength,warningCount:260})},n._renderAddComposerButton=function(){var e=this.props,t=e.disableAddTweet,n=e.loggedInUser,a=e.isInline,r=e.onAddComposer,o=this._isEmpty(),i=this._isScheduled(),s=t||o||i||!n;return m.createElement(I.a,{accessibilityLabel:Bt,disabled:s,icon:Gt,link:!a||o||s?void 0:"/compose/tweet",onPress:r,size:"small",testID:ot.addButton,type:"secondary"})},i()(t,[{key:"pollChoices",get:function(){return this.props.data.pollActive&&this._pollCreatorRef?this._pollCreatorRef.choices:void 0}},{key:"pollDuration",get:function(){return this.props.data.pollActive&&this._pollCreatorRef?this._pollCreatorRef.duration:void 0}},{key:"mediaAttachDisabled",get:function(){var e=this.props,t=e.data,n=t.media,a=t.pollActive,r=e.loggedInUser,o=n.length,i=n.some((function(e){var t;return null===(t=e.mediaFile)||void 0===t?void 0:t.isGif})),s=n.some((function(e){return e.mediaFile&&!(e.mediaFile instanceof ye.a)&&e.mediaFile.isVideo}));return 4===o||i||s||a||this.hasExternalMedia||!r}},{key:"hasAttachedImage",get:function(){return this.props.data.media.some((function(e){var t;return null===(t=e.mediaFile)||void 0===t?void 0:t.isImage}))}},{key:"hasAttachedAltText",get:function(){return this._getNumberOfAltTextEntries()>0}},{key:"hasExternalMedia",get:function(){return this.props.data.media.some((function(e){return!!e.externalMediaDetails}))}}]),t}(m.Component);p()(Jt,"defaultProps",{twitterTextConfigurationVersion:"defaults",withAvatar:!0,conversationControlsValue:"all",updateConversationControlsValue:function(){}});var Qt=Object(U.a)(Jt),Yt=(n("KI7T"),n("SrIh")),Zt=n("BLtI"),$t=(n("AxOO"),n("kY28")),en=n("mN6z"),tn=n("fs1G"),nn=function(e){var t=e.children;return m.createElement(E.b,{color:"link"},t)},an=function(e){return"@"+e},rn=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,p()(l()(t),"_handleTweetAction",(function(e){e&&e.preventDefault&&e.preventDefault()})),t}d()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return!Object(en.a)(this.props,e)},n.UNSAFE_componentWillMount=function(){var e=this.props,t=e.excludedRecipients,n=e.inReplyToStatus,a=e.loggedInUserId;this._calculatedRecipients=h.a({inReplyToStatus:n,loggedInUserId:a}).filter((function(e){var n=e.id_str;return t.indexOf(n)<0}))},n.render=function(){var e=this.props,t=e.dataSaverMode,n=e.shouldDisplayRepliesText,a=e.showParentTweet,r=e.onPress;return m.createElement(S.a,null,a?m.createElement(Zt.b,{conversationPosition:{isStart:!0},dataSaverMode:t,linkableQuotedTweet:!1,linkify:!1,onAnalyticsClick:tn.a,onAvatarClick:this._handleTweetAction,onCardClick:this._handleTweetAction,onCardShown:this._handleTweetAction,onEntityClick:this._handleTweetAction,onMediaClick:this._handleTweetAction,onPollVote:tn.a,onReplyContextClick:this._handleTweetAction,replyContext:$t.a.ReplyContextTypes.None,tweet:this.props.inReplyToStatus,withAvatarLink:!1,withCardLinks:!0,withInlineMedia:!1,withQuotedTweetLinks:!0,withSocialContext:!1,withTimestampLink:!1,withUserHoverCard:!1}):null,m.createElement(S.a,{style:sn.replyUsersContainer},m.createElement(dt.a,{avatarCell:a?m.createElement(S.a,{style:sn.conversationLine}):null,avatarCellStyle:sn.conversationLineContainer,cellStyle:sn.repliesTextContainer,style:sn.grid},n?m.createElement(E.b,{accessibilityRole:"button",color:"deepGray",onPress:r,style:a&&sn.repliesMessage},this._renderContextMessage()):null)))},n._renderContextMessage=function(){var e=this.props.inReplyToStatus,t=(e.retweeted_status||e).user;switch(this._calculatedRecipients.length){case 0:return Object(Yt.a)("Compose reply context should not have 0 recipients"),null;case 1:return m.createElement(_.a.I18NFormatMessage,{$i18n:"da23d59d"},m.createElement(nn,null,_.a.e6c5d8ce({userName:an(t.screen_name)})));case 2:var n=this._calculatedRecipients.find((function(e){return e.id_str!==t.id_str}))||{};return m.createElement(_.a.I18NFormatMessage,{$i18n:"fb655933"},m.createElement(nn,null,_.a.j8324cad({replyUserName:an(t.screen_name),otherUserName:an(n.screen_name)})));case 3:var a=this._calculatedRecipients.filter((function(e){return e.id_str!==t.id_str})),r=a[0],o=a[1];return m.createElement(_.a.I18NFormatMessage,{$i18n:"ad8ffca3"},m.createElement(nn,null,_.a.ha19a8c5({userOneName:an(t.screen_name),userTwoName:an(r.screen_name),userThreeName:an(o.screen_name)})));default:var i=this._calculatedRecipients.find((function(e){return e.id_str!==t.id_str}))||{};return m.createElement(_.a.I18NFormatMessage,{$i18n:"ha99ec97"},m.createElement(nn,null,_.a.bca18233({userOneName:an(t.screen_name),userTwoName:an(i.screen_name),othersCount:this._calculatedRecipients.length-2})))}},t}(m.Component);p()(rn,"defaultProps",{showParentTweet:!0});var on,sn=k.a.create((function(e){return{replyUsersContainer:{flexDirection:"row",minHeight:e.spaces.xSmall,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:0},grid:{flexGrow:1,flexShrink:1},repliesTextContainer:{flexGrow:1},repliesMessage:{flexGrow:1,paddingBottom:e.spaces.small,paddingTop:e.spaces.xxSmall},conversationLineContainer:{alignItems:"center"},conversationLine:{backgroundColor:e.colors.lightGray,flexGrow:1,minHeight:0,width:e.componentDimensions.conversationLineWidth,marginBottom:e.spaces.xxSmall}}})),ln=rn,cn=n("8OQS"),dn=n.n(cn),un=n("Tb0w"),pn=n("ge3j"),mn=n("1YZw"),hn=n("pidX"),fn=n("0KEI"),gn=n("zhf3"),_n=n("P1r1"),vn=n("RqPI"),bn=n("XOJV"),yn=n("G6rE"),Cn=n("AspN"),xn=n("oEGd"),wn=n("hqKg"),Tn=function(e){return e.parentTweetId||(e.isInline?gn.a.homeTimeline:gn.a.modal)},Sn=function(e){return function(t,n){var a=function(e,t){return t.location.state}(0,n);return a?e(a):void 0}},En=Object(wn.createSelector)((function(e,t){return t.activeUser}),yn.e.selectLoggedInUser,(function(e,t){return e||t})),Rn=function(e,t){return t.parentTweetId||In(e,t)||kn(e,t)},In=function(e,t){var n=t.location.query;return n&&"string"==typeof n.in_reply_to?n.in_reply_to:void 0},kn=Sn((function(e){return e.inReplyToStatusId})),Mn=function(e,t){return t.location.pathname.indexOf("/intent/")>-1},An=Sn((function(e){return e.convoCardData})),Bn=Sn((function(e){return e.externalMedia})),On=Sn((function(e){return e.externalMediaFiles})),Dn=Sn((function(e){return e.defaultText})),Pn=function(e,t){var n=Dn(e,t),a=Object(hn.a)(t.location);return(Mn(0,t)||function(e,t){return t.location.pathname.indexOf("/compose/tweet")>-1}(0,t))&&a?a:n},Ln=Sn((function(e){return e.quotedStatusId})),Fn=Sn((function(e){return e.quotedStatus})),jn=Sn((function(e){return e.isSelfThreadReply})),Hn=Sn((function(e){return e.positionCursorAtBeginning})),zn=Sn((function(e){return e.promotedContent})),Vn=Object(wn.createSelector)((function(e,t){var n=Tn(t);return pn.j(e,n)}),Pn,(function(e,t){return function(e,t){return t.quotedStatus?t.quotedStatus:Fn(e,t)}(e,t)||function(e,t){var n=Ln(e,t);return n?bn.a.selectHydratedMemoized(e,n):void 0}(e,t)}),Cn.f,(function(e,t,n,a){return e.map((function(e,r){return Object.assign({},function(e){e.mediaIds;return dn()(e,["mediaIds"])}(e),{media:a.filter((function(t){return e.mediaIds.some((function(e){return e===t.id}))})),quotedStatus:0===r?n:void 0,text:0===r&&t?t:e.text})}))})),Nn=Object(wn.createStructuredSelector)({activeComposerIndex:function(e,t){var n=Tn(t);return pn.i(e,n)},activeUser:En,composerData:Vn,conversationControlsValue:function(e,t){var n=Tn(t);return pn.k(e,n)},dataSaverMode:_n.i,excludedRecipients:function(e,t){var n=Tn(t);return pn.l(e,n)},externalMedia:Bn,externalMediaFiles:On,inReplyToStatus:function(e,t){var n=Rn(e,t);return n?bn.a.selectHydratedMemoized(e,n):void 0},inReplyToStatusId:Rn,isIntentRoute:Mn,isSelfThreadReply:jn,isSending:function(e,t){var n=Tn(t);return pn.m(e,n)},positionCursorAtBeginning:Hn,loggedInUser:yn.e.selectLoggedInUser,prepopulatedText:Pn,promotedContent:zn,scheduledFor:pn.n,sendingProgress:pn.o,convoCardData:An,userLanguage:vn.f,quotedStatusId:Ln}),Wn={addComposer:pn.a,addToast:mn.b,createLocalApiErrorHandler:Object(fn.d)("SCREEN_COMPOSE_V2"),createNudge:pn.d,fetchTweetIfNeeded:bn.a.fetchOneIfNeeded,removeComposer:pn.f,resetDraft:pn.g,retweet:bn.a.retweet,schedule:pn.h,draftTweet:pn.e,send:pn.p,updateActiveComposerIndex:pn.r,updateConvoCardState:un.c,updateConversationControlsValue:pn.s,uploadMedia:Cn.k,addMedia:Cn.b,processMultipleMedia:Cn.d,removeMediaUpload:Cn.e,updateSingleComposer:pn.u,setActiveParentKey:pn.q,copyDataFromInlineComposerToModalComposer:pn.b,copyDataFromInlineReplyComposerToModalComposer:pn.c},Un=Object(xn.g)(Nn,Wn),Gn=n("45mF"),qn=n("c0ZR"),Kn=n("W5XZ"),Xn=n("MXY2"),Jn=n("I8M8"),Qn=n("eyty"),Yn=n("gUG0"),Zn=n("rxPX"),$n=n("0pUJ"),ea=Object(Zn.a)().propsFromActions((function(){return{addToast:mn.b,block:yn.e.block,createLocalApiErrorHandler:Object(fn.d)("NUDGE"),hideReply:bn.a.hideReply,mute:$n.a,unblock:yn.e.unblock,unmute:yn.e.unmute}})),ta=Object.freeze({ReviseOrMute:"ReviseOrMute",ReviseOrBlock:"ReviseOrBlock",ReviseOrHideThenBlock:"ReviseOrHideThenBlock"}),na=n("yrzJ"),aa=n("eb3s"),ra=_.a.g60fbfd6,oa=_.a.h4c10f46,ia=_.a.i5a9dfb2,sa=_.a.hd7389df,la=_.a.f4d4d20a,ca=_.a.b0f74493,da=_.a.ebcc87b4,ua=_.a.ifd1f11f,pa=_.a.i08c6528,ma=_.a.a6adcbe2,ha=_.a.f16f5021,fa=_.a.fd306725,ga=_.a.b05b436a,_a=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,p()(l()(t),"state",{showBlockModal:!1}),p()(l()(t),"_renderBlockSheet",(function(){var e=t.props.recipient.screen_name,n=m.createElement(na.a,{color:"normal",screenName:e}),a=m.createElement(na.a,{screenName:e});return m.createElement(aa.a,{cancelButtonLabel:ma,confirmButtonLabel:ha,confirmButtonType:"destructive",headline:m.createElement(_.a.I18NFormatMessage,{$i18n:"e13e09f0"},n),onCancel:t._handleBlockCancel,onConfirm:t._handleBlockUser,text:m.createElement(_.a.I18NFormatMessage,{$i18n:"h908204b"},a)})})),p()(l()(t),"_getDescription",(function(){var e=t.props,n=e.nudgeType,a=e.recipient,r=m.createElement(na.a,{screenName:a.screen_name});switch(n){case ta.ReviseOrMute:return m.createElement(_.a.I18NFormatMessage,{$i18n:"f8187dec"},r);case ta.ReviseOrBlock:return m.createElement(_.a.I18NFormatMessage,{$i18n:"ece28745"},r);case ta.ReviseOrHideThenBlock:return m.createElement(_.a.I18NFormatMessage,{$i18n:"e4b57915"});default:return null}})),p()(l()(t),"_getSecondaryActionLabel",(function(){var e=t.props,n=e.nudgeType,a=e.recipient,r=m.createElement(na.a,{color:"normal",screenName:a.screen_name});switch(n){case ta.ReviseOrMute:return m.createElement(_.a.I18NFormatMessage,{$i18n:"c1a3e7aa"},r);case ta.ReviseOrBlock:return m.createElement(_.a.I18NFormatMessage,{$i18n:"e13e09f0"},r);case ta.ReviseOrHideThenBlock:return ua;default:return null}})),p()(l()(t),"_handleSecondaryAction",(function(){switch(t.props.nudgeType){case ta.ReviseOrMute:t._handleMuteUser();break;case ta.ReviseOrBlock:t._handleBlockUser();break;case ta.ReviseOrHideThenBlock:t._handleHideReplyThenBlock();break;default:return}})),p()(l()(t),"_handleBlockCancel",(function(){var e=t.props.onDiscard;t.state.showBlockModal&&t._handleHideReply(),e()})),p()(l()(t),"_handleBlockUser",(function(){var e=t.props,n=e.addToast,a=e.block,r=e.onDiscard,o=e.recipient,i=e.unblock,s=t.state.showBlockModal;a(o.id_str).then((function(){s&&t._handleHideReply(),r(),n({actionLabel:da,text:la,onAction:function(){i(o.id_str).then((function(){n({text:ca})})).catch(t._createApiErrorHandler())}})})).catch(t._createApiErrorHandler())})),p()(l()(t),"_handleMuteUser",(function(){var e=t.props,n=e.addToast,a=e.mute,r=e.onDiscard,o=e.recipient,i=e.unmute;a(o.id_str).then((function(){r(),n({actionLabel:oa,text:ia,onAction:function(){i(o.id_str).then((function(){n({text:sa})})).catch(t._createApiErrorHandler())}})})).catch(t._createApiErrorHandler())})),p()(l()(t),"_handleHideReplyThenBlock",(function(){t.setState({showBlockModal:!0})})),p()(l()(t),"_handleHideReply",(function(){var e=t.props,n=e.addToast,a=e.conversationId;(0,e.hideReply)(e.tweetId,{conversation_id:a}).then((function(){n({text:pa})})).catch(t._createApiErrorHandler())})),p()(l()(t),"_createApiErrorHandler",(function(){return t.props.createLocalApiErrorHandler({showToast:!0})})),t}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.onRevise,n=e.onSend;return this.state.showBlockModal?this._renderBlockSheet():m.createElement(G.a,{accessibilityRole:"alertdialog",allowBackNavigation:!1,enableMaskForDismiss:!0,onMaskClick:t,style:va.container,type:"center",withMask:!0},m.createElement(E.b,{align:"center",color:"normal",size:"large",style:va.headlineText,weight:"bold"},ra),m.createElement(E.b,{align:"center",color:"deepGray"},this._getDescription()),m.createElement(S.a,{style:va.buttons},m.createElement(I.a,{onPress:t,style:va.button,type:"primary"},fa),m.createElement(I.a,{onPress:this._handleSecondaryAction,style:va.button,type:"neutral"},this._getSecondaryActionLabel()),m.createElement(I.a,{onPress:n,style:va.button,type:"neutral"},ga)))},t}(m.Component),va=k.a.create((function(e){return{container:{alignItems:"center",backgroundColor:e.colors.cellBackground,padding:e.spaces.medium,paddingBottom:e.spaces.xSmall},headlineText:{marginBottom:e.spaces.xSmall},buttons:{marginTop:e.spaces.medium,width:"100%"},button:{width:"100%",marginBottom:e.spaces.small}}})),ba=ea(_a),ya=n("7myi"),Ca=n("7nmT"),xa=n.n(Ca),wa=n("vbWy"),Ta=n("Rp9C"),Sa=n("k49u"),Ea=_.a.fd7d9019,Ra=_.a.b5377fb3,Ia=_.a.b6cfedcc,ka=_.a.bcd74992,Ma=_.a.acb297a4,Aa=_.a.aa6d54f1,Ba=_.a.f3fbc750,Oa=_.a.dc049f88,Da=_.a.aaeb8541,Pa=_.a.aff9a43f,La=_.a.c2701a62,Fa=_.a.a5f77977,ja=_.a.aac09291,Ha=_.a.f64fdb40,za=((on={defaultToast:{text:Ia}})[Sa.a.OverStatusUpdateLimit]={toast:{text:Ra,actionLabel:Ea,actionLink:"https://support.twitter.com/articles/15364"}},on[Sa.a.DuplicateStatusError]={toast:{text:ka}},on[Sa.a.CurrentUserSuspended]={toast:{text:Ma}},on[Sa.a.InReplyToTweetNotFound]={toast:{text:Aa}},on[Sa.a.MentionLimitInTweetExceeded]={toast:{text:Ba}},on[Sa.a.UrlLimitInTweetExceeded]={toast:{text:Oa}},on[Sa.a.HashtagLimitInTweetExceeded]={toast:{text:Da}},on[Sa.a.CashtagLimitInTweetExceeded]={toast:{text:Pa}},on[Sa.a.HashtagLengthLimitInTweetExceeded]={toast:{text:La}},on[Sa.a.AttachmentTypesLimitInTweetExceeded]={toast:{text:Fa}},on[Sa.a.StatusMalwareError]={toast:{text:ja,actionLabel:Ea,actionLink:"https://support.twitter.com/articles/90491"}},on[Sa.a.StatusTooLongError]={toast:{text:Ha}},on.showToast=!0,on),Va=n("N5qz"),Na={addButton:"addButton",tweetButton:"tweetButton",tweetButtonInline:"tweetButtonInline",textarea:"tweetTextarea",textareaPrefix:"tweetTextarea_"},Wa=n("aITJ"),Ua=n("1Pcy"),Ga=n.n(Ua),qa=n("W/Kd"),Ka=n.n(qa),Xa=n("KEM+"),Ja=n.n(Xa),Qa=n("RhWx"),Ya=n.n(Qa),Za=n("zrc3"),$a=Object.freeze({in:"in",out:"out",static:"static"}),er=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,Ja()(Ga()(t),"state",{isAnimating:!1,renderChildren:m.Children.toArray(t.props.children).map((function(e){return{status:$a.static,child:e}}))}),Ja()(Ga()(t),"_handleEachAnimateComplete",(function(){var e=t.state.isAnimating,n=t.props,a=n.onAnimateComplete,r=n.children;e&&(a&&a(),t.setState({renderChildren:m.Children.toArray(r).map((function(e){return{status:$a.static,child:e}})),isAnimating:!1}))})),t}return Ka()(t,e),t.getDerivedStateFromProps=function(e,t){var n=function(e,t){for(var n=0,a=0,r=[],o=function(){if(n>=t.length)return r.push.apply(r,Ya()(e.slice(a).map((function(e){return{child:e,status:$a.out}})))),"break";var o=t[n],i=e[a];if(o.key===i.key)r.push({child:o,status:$a.static}),n+=1;else{var s=Object(Za.a)(t,(function(e){return e.key===i.key}));s>=0?(r.push.apply(r,Ya()(t.slice(n,s).map((function(e){return{child:e,status:$a.in}}))).concat([{child:t[s],status:$a.static}])),n=s+1):r.push({child:i,status:$a.out})}a+=1};a<e.length;){if("break"===o())break}return n<t.length&&r.push.apply(r,Ya()(t.slice(n).map((function(e){return{child:e,status:$a.in}})))),r}(t.renderChildren.map((function(e){return e.child})),m.Children.toArray(e.children));return{renderChildren:n,isAnimating:!n.every((function(e){return e.status===$a.static}))}},t.prototype.render=function(){var e=this;return this.state.renderChildren.map((function(t){var n=t.status,a=t.child;return m.createElement(ht.a,{animateMount:n!==$a.static,key:a.key,onAnimateComplete:e._handleEachAnimateComplete,show:n!==$a.out},a)}))},t}(m.Component),tr=Object.freeze({primary:{backgroundColor:"primary",accessibilityRole:"text"},danger:{backgroundColor:"red",accessibilityRole:"alert"}}),nr=function(e){function t(){return e.apply(this,arguments)||this}Ka()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.type,n=e.text,a=tr[t],r=a.accessibilityRole,o=k.a.theme.colors[a.backgroundColor];return m.createElement(S.a,{accessibilityRole:r,style:[ar.root,{backgroundColor:o}]},m.createElement(E.b,{color:"whiteOnColor"},n),this._renderActionLabel())},n._renderActionLabel=function(){var e=this.props,t=e.actionLabel,n=e.actionLink;if(t&&n)return m.createElement(E.b,{children:t,color:"whiteOnColor",link:n,style:ar.actionText,weight:"bold",withInteractiveStyling:!0})},t}(m.Component);Ja()(nr,"defaultProps",{type:"primary"});var ar=k.a.create((function(e){return{root:{alignItems:"center",flexDirection:"row",padding:e.spaces.xSmall},actionText:{marginLeft:e.spaces.xxSmall,whiteSpace:"nowrap",flexShrink:0}}})),rr=nr,or=n("JYMr"),ir=n("rziq"),sr=n("jTgF"),lr=n("3A2y"),cr=n("s1N3"),dr=n("4FGy"),ur=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object(dr.a)(e,n)},pr=n("+d3d"),mr=n("sXY3"),hr=25,fr="version3",gr=1e3,_r=_.a.c51df0d7,vr=_.a.f0a52a4a,br=_.a.jf60e41a,yr=_.a.e258e22f,Cr=_.a.e7ee6492,xr=_.a.hace56b8,wr=_.a.e0c22f24,Tr=_.a.d823252a,Sr=_.a.e4cb8f8f,Er=_.a.b138a3a2,Rr=_.a.dad4c74b,Ir=_.a.h6da8b08,kr=_.a.g2c626f7,Mr=_.a.i9cec7a1,Ar=_.a.bf706fcd,Br=document.documentElement&&"scrollBehavior"in document.documentElement.style,Or=1500,Dr=function(e){function t(n,a){var o,i,s;return s=e.call(this,n,a)||this,p()(l()(s),"_getParentKey",(function(){var e=s.props,t=e.isInline;return e.parentTweetId||(t?gn.a.homeTimeline:gn.a.modal)})),p()(l()(s),"_updateSingleComposer",(function(e,t){return(0,s.props.updateSingleComposer)({updates:e,index:t,parentKey:s._getParentKey()})})),p()(l()(s),"_resetDraft",(function(){return(0,s.props.resetDraft)(s._getParentKey())})),p()(l()(s),"_syncTexts",(function(){var e=s.props.composerData,t=s.state.textMap;e.forEach((function(e,n){var a=t[e.key];"string"==typeof a&&a!==e.text&&s._updateSingleComposer({text:a},n)}))})),p()(l()(s),"_hasGif",(function(e){return e.gifMetadata||e.media.some((function(e){return e.mediaFile&&e.mediaFile.isGif}))})),p()(l()(s),"_hasPhoto",(function(e){return e.media&&e.media.some((function(e){return e.mediaFile&&e.mediaFile.isImage}))})),p()(l()(s),"_hasVideo",(function(e){return e.media&&e.media.some((function(e){return e.mediaFile&&e.mediaFile.isVideo&&!e.mediaFile.isGif}))})),p()(l()(s),"_handleAnimateComplete",(function(){var e=s.props,t=e.activeComposerIndex,n=e.onHandleAppBarHeight,a=xa.a.findDOMNode(s._composerRefs[t]);if(a instanceof window.Element){var r=a.getBoundingClientRect(),o=r.top,i=r.bottom,l=Math.max(o,window.scrollY);if(l<window.pageYOffset||i>window.innerHeight){var c=n?l-n()-14:l-14,d=Math.max(c,0);window.requestAnimationFrame((function(){Br?window.scrollTo({top:d,left:0,behavior:"smooth"}):window.scrollTo(0,d)}))}}})),p()(l()(s),"_handleFetchTweetIfNeeded",(function(){var e=s.props,t=e.createLocalApiErrorHandler,n=e.inReplyToStatus,a=e.inReplyToStatusId,r=e.fetchTweetIfNeeded,o=e.quotedStatus,i=e.quotedStatusId;!n&&a&&r(a).catch(t(Kn.a)),!o&&i&&r(i).catch(t(Kn.a))})),p()(l()(s),"_blockHistory",(function(e,t){var n=s.props.isInline,a=!n&&/unsent/.test(e.pathname),r=!n&&!/\/compose\/tweet\/?$/.test(e.pathname);return s.shouldShowDiscardConfirmation&&"POP"===t&&r?(s.setState({showDiscardTweetConfirmation:!0}),!1):s._draftTweetsEnabled&&a&&"PUSH"===t?s.shouldShowDiscardConfirmation?(s.setState({showDiscardTweetConfirmation:!0,navigatingToOutbox:a}),!1):(s._resetDraft(),!0):!s.shouldShowBackgroundSendConfirmation||"POP"!==t||!r||(s._cancelAllMediaUploads(),!1)})),p()(l()(s),"_getKeyCommandHandlers",(function(){return s.state.typeaheadActive?s._keyCommandHandlersForActiveTypeahead:s._keyCommandHandlers})),p()(l()(s),"handleTweetOrRetweet",(function(){if(s._scribe({section:"composition",element:"send_tweet",action:"click"}),s._areComposersValid())return s.isRetweet?s._handleRetweet():s._handleTweet()})),p()(l()(s),"_handleRevise",(function(){s.setState({nudgeType:void 0})})),p()(l()(s),"_render",(function(e){var t=s.props,n=t.activeUser,a=t.addComposer,o=t.addToast,i=t.composeHeader,l=t.composerData,c=t.conversationControlsValue,d=t.copyDataFromInlineComposerToModalComposer,u=t.customizePropsForSingleComposerItem,p=t.history,h=t.isInline,f=t.isSending,g=t.isSelfThreadReply,_=t.inReplyToStatus,v=t.parentTweetId,b=t.positionCursorAtBeginning,y=t.scheduledFor,C=t.richTextInputContext,x=t.typeaheadWrapper,w=t.userLanguage,T=t.windowWidth,E=s.context.isModal,R=s.state,k=R.errorMessage,M=R.focused,A=R.showDiscardTweetConfirmation,B=R.typeaheadActive,O=!E&&B,D=h?0:s.props.activeComposerIndex,P=O||h?[l[D]]:l,L=s._areComposersValid(),F=h?S.a:er,j=h?{}:{onAnimateComplete:E?void 0:s._handleAnimateComplete};return m.createElement(S.a,{ref:e?s._setHiddenRootRef:s._setRootRef,style:[v?Pr.rootInlineReply:Pr.root,e&&Pr.hidden]},h?s._renderProgressBar():null,k&&m.createElement(rr,{actionLabel:k.actionLabel,actionLink:k.actionLink,text:k.text,type:"danger"}),m.createElement(S.a,{onFocus:s._handleFocus,style:[Pr.content,v&&Pr.contentInlineReply]},_?s._renderReplyContext(e):null,i,m.createElement(F,j,P.map((function(t,i){var R=s._tweetSchedulingEnabled&&Object(xe.h)(t.scheduledFor),k=l.indexOf(t),A=u(t,i,P),B=E||h?m.createElement(I.a,{disabled:!L,onPress:s.handleTweetOrRetweet,size:"normal",style:Pr.inlineSendButton,testID:E?Na.tweetButton:Na.tweetButtonInline,type:"primary"},Object(Xn.a)({inReplyToStatus:!!_,isSelfThreadReply:!!g,isQuoteTweet:!!s.isQuoteTweet,isRetweet:!!s.isRetweet,isScheduled:!!R,isThread:s.isThread})):null,O=s._getSingleComposerDataWithLatestText(t);return m.createElement(S.a,{key:t.key},m.createElement(Qt,r()({addToast:o,additionalToolbarContent:B,autoFocus:!!v&&M,conversationControlsValue:c,data:O,disableAddTweet:l.length>=hr,editable:!f&&!!n,hidePollAndScheduling:h&&Va.a.isOneColumnSquishedLayout(T),history:p,index:k,isActive:k===D&&!f,isExpanded:0!==i||s._shouldBeExpanded(e),isInline:h,isInlineReply:!!v,isLast:h||k===l.length-1,isReply:!!_||!!v,isSelfThreadReply:!!g,keyCommandHandlers:s._getKeyCommandHandlers(),loggedInUser:n,onAddComposer:h?d:a,onFilesAdded:s._handleAddMediaFiles(k),onFocus:s._handleComposerFocus,onRemoveComposer:s._handleRemoveComposer,onRemoveMedia:s._handleMediaRemove,onTextChange:s._handleTextChange,onTextInputBlur:s._handleTextOnBlur(O.key,i),onTypeaheadStateChange:s._handleTypeaheadStateChange,positionCursorAtBeginning:!!b,ref:s._setComposerRef(k),richTextInputContext:C,scheduledFor:y,setActiveParentKey:s._setActiveParentKey,twitterTextConfigurationVersion:fr,typeaheadWrapper:x,updateConversationControlsValue:s._updateConversationControlsValue,updateSingleComposer:s._updateSingleComposer,userLanguage:w},A)))}))),A?s._draftTweetsEnabled?m.createElement(aa.a,{cancelButtonLabel:xr,confirmButtonLabel:Sr,headline:wr,onCancel:s._handleConfirmDiscardTweet,onConfirm:s._handleDraftTweet,onMaskClick:s._handleCancelDiscardTweet,text:Tr}):m.createElement(aa.a,{confirmButtonLabel:xr,confirmButtonType:"destructive",headline:s.isThread?yr:br,onCancel:s._handleCancelDiscardTweet,onConfirm:s._handleConfirmDiscardTweet,text:Cr}):null,s._renderNudge(),m.createElement(S.a,{style:[f&&Pr.mask]})))})),p()(l()(s),"_renderNudge",(function(){var e=s.props,t=e.inReplyToStatus,n=e.inReplyToStatusId,a=s.state.nudgeType,r=null==t?void 0:t.conversation_id_str;return a&&t&&r&&n?m.createElement(ba,{conversationId:r,nudgeType:a,onDiscard:s._handleDismissComposerFromNudge,onRevise:s._handleRevise,onSend:s._handleSendTweet,recipient:t.user,tweetId:n}):null})),p()(l()(s),"_renderReplyContext",(function(e){var t=s.props,n=t.activeUser,a=t.dataSaverMode,r=t.excludedRecipients,o=t.isInline,i=t.isSelfThreadReply,l=t.inReplyToStatus;if(s._shouldBeExpanded(e))return m.createElement(ln,{dataSaverMode:a,excludedRecipients:r,inReplyToStatus:l,key:r.join(),loggedInUserId:n?n.id_str:void 0,onPress:s._handleViewRecipients,shouldDisplayRepliesText:!i,showParentTweet:!o})})),p()(l()(s),"_setRootRef",(function(e){var t=xa.a.findDOMNode(e);t&&t instanceof Element&&(s._root=t)})),p()(l()(s),"_setHiddenRootRef",(function(e){var t=xa.a.findDOMNode(e);t&&t instanceof Element&&(s._hiddenExpandedRoot=t)})),p()(l()(s),"_handleTweet",(function(){var e=s.props.composerData[0].scheduledFor,t=s._tweetSchedulingEnabled&&e;s.setState({errorMessage:void 0}),t?Object(xe.h)(e)&&s._handleScheduleTweet():s._checkToxicAndSendTweet()})),p()(l()(s),"_handleTweetError",(function(e,t){return function(n){var a=s.props,r=a.analytics,o=a.createLocalApiErrorHandler;if(Object(sr.d)(n)&&n.code===Jn.b.CANCELED)return r.scribeAction(e),Promise.resolve();var i=Object(sr.b)(n);if(i)return s.setState({errorMessage:i}),Promise.resolve();var l=t||Object(Gn.a)(void 0,!1);o(Object.assign({},l))(n),s.setState({errorMessage:{text:Mr}})}})),p()(l()(s),"_handleScheduleTweet",(function(){var e=s.props,t=e.addToast,n=e.composerData,a=e.excludedRecipients,r=e.inReplyToStatus,o=e.schedule,i=s._getSingleComposerDataWithLatestText(n[0]);o({excludedRecipients:a,inReplyToStatus:r,scheduleData:i}).then((function(e){s.setState({tweetsSentOrScheduled:!0});var a=Object(xe.c)(i.scheduledFor);if(a){var r=Object(xe.b)(a),o=Object(xe.i)(a),l=Ir({scheduleDate:r,scheduleTime:o});t({text:l,actionLink:"/compose/tweet/unsent/scheduled",actionLabel:Rr}),s._scribeTweetSent(n[0],Object.assign({},e,{id_str:e.scheduled_id_str}),!0)}s._updateConvoCardState(),s._close()})).catch(s._handleTweetError("schedule_tweet_cancel"))})),p()(l()(s),"_handleDraftTweet",(function(){var e=s.props,t=e.addToast,n=e.composerData,a=e.draftTweet,r=e.excludedRecipients,o=e.inReplyToStatus,i=s._getSingleComposerDataWithLatestText(n[0]);s.setState({showDiscardTweetConfirmation:!1}),a({excludedRecipients:r,inReplyToStatus:o,draftData:i}).then((function(e){t({text:Er,actionLink:"/compose/tweet/unsent/drafts",actionLabel:Rr}),s._scribeTweetSent(n[0],Object.assign({},e,{id_str:e.draft_id_str}),!1,!0),s._updateConvoCardState(),s._close()})).catch(s._handleTweetError("draft_tweet_cancel"))})),p()(l()(s),"_handleSendTweet",(function(){var e=s.props,t=e.addToast,n=e.analytics,a=e.composeSemanticCoreId,r=e.conversationControlsValue,o=e.excludedRecipients,i=e.history,l=e.inReplyToStatus,c=e.isSelfThreadReply,d=e.location,u=e.activeUser,p=e.promotedContent,m=e.send,h=s.props.composerData.map((function(e){return s._getSingleComposerDataWithLatestText(e)})),f=s._tweetSchedulingEnabled?Object(xe.c)(h[0].scheduledFor):null;if(f){var g=Object(xe.b)(f),_=Object(xe.i)(f),v=Ir({scheduleDate:g,scheduleTime:_});return t({text:v,actionLink:"",actionLabel:Rr}),void s._close()}o.length>0&&n.scribe({element:"mentions",action:"edited"}),s._conversationControlsCreationEnabled&&("community"===r?n.scribe({action:"send_community_tweet"}):"by_invitation"===r&&n.scribe({action:"send_mentioned_tweet"})),m({sendData:h.map((function(e,t){return Object.assign({},e,{pollChoices:s._composerRefs[t]?s._composerRefs[t].pollChoices:void 0,pollDuration:s._composerRefs[t]?s._composerRefs[t].pollDuration:void 0})})),conversationControlsValue:r,excludedRecipients:o,inReplyToStatus:l,isSelfThreadReply:c,promotedContent:p,composeSemanticCoreId:a}).then((function(e){s.setState({tweetsSentOrScheduled:!0}),e.map((function(e,t){return s._scribeTweetSent(h[t],e)})),e.length>1&&s._scribeThreadSent(h,e,"thread_send_success");var n=s.props.onSent,a=e.length>1?vr:_r;t({text:a,actionLink:"/"+(u?u.screen_name:"i")+"/status/"+e[0].id_str,actionLabel:Rr}),s._updateConvoCardState(),s._close(),n&&n({sentTweets:e,inReplyToStatus:l})})).catch((function(e){var t=e.sentTweets,a=void 0===t?[]:t;a.map((function(e,t){return s._scribeTweetSent(h[t],e)}));var r={message:e.type};throw Object(sr.d)(e)&&e.code===Jn.b.CANCELED||n.scribe({action:"send_tweet_failure",data:r}),h.length>1&&s._scribeThreadSent(h,a,"thread_send_failure"),a.length&&i.replace({pathname:d.pathname,state:Object.assign({},Object(lr.a)(d.state||{},"quotedStatus"),{inReplyToStatusId:a[a.length-1].id_str,isSelfThreadReply:!0})}),e})).catch(s._handleTweetError("send_tweet_cancel",za)).finally((function(){s.setState({nudgeType:void 0})}))})),p()(l()(s),"_checkToxicAndSendTweet",(function(){var e=s.props,t=e.activeUser,n=e.composerData,a=e.createNudge,r=e.inReplyToStatus,o=e.isSelfThreadReply,i=s.state.hasNudged,l=((null==r?void 0:r.full_text)||"").includes((null==t?void 0:t.screen_name)||""),c=s._getSingleComposerDataWithLatestText(n[0]).text;s._isNudgeEnabled&&!i&&!o&&l&&a&&c?s._checkToxicWithTimeout(c).then((function(e){e.showNudge||s._handleSendTweet()})):s._handleSendTweet()})),p()(l()(s),"_makeTimeout",(function(){return new Promise((function(e,t){return setTimeout(e,Or)}))})),p()(l()(s),"_checkToxicWithTimeout",(function(e){return Promise.race([s._checkToxic(e),s._makeTimeout()]).then((function(e){var t,n,a,r=null==e?void 0:null===(t=e.create_nudge)||void 0===t?void 0:null===(n=t.nudge)||void 0===n?void 0:null===(a=n.nudge_type)||void 0===a?void 0:a.__typename;return s._isShowNudgeEnabled&&r?(s.setState({nudgeType:r,hasNudged:!0}),{showNudge:!0}):{}})).catch((function(){return{}}))})),p()(l()(s),"_checkToxic",(function(e){var t=s.props,n=t.createNudge,a=t.inReplyToStatusId,r=t.parentTweetId,o=void 0===r?a:r,i=t.inReplyToStatus;return n(e,o,null==i?void 0:i.conversation_id_str)})),p()(l()(s),"_setActiveParentKey",(function(){(0,s.props.setActiveParentKey)(s._getParentKey())})),p()(l()(s),"_scribeTweetSent",(function(e,t,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1);var r=e.scheduledTweetId?"schedule_edit_":"schedule_",o=a?"draft_":n?r:"send_",i={items:[Ta.a.getTweetItem(t)]},l=e.pollActive&&e.pollValid,c=e.mediaMetadata&&Object.values(e.mediaMetadata).some((function(e){return!!e})),d=s.props.inReplyToStatus||s.props.inReplyToStatusId,u=s.props.isInline?"inline_reply":"tweet_box_dialog";if(s._scribe({action:o+"tweet"},i),a||!e.draftTweetId||e.scheduledTweetId||s._scribe({action:o+"draft_tweet"},i),s.isQuoteTweet&&s._scribe({action:"retweet_with_comment"},i),d&&s._scribe({component:u,action:o+"reply"},i),l&&s._scribe({action:o+"poll_tweet"},i),c&&s._scribe({action:o+"photo_tweet_with_alt_text"},i),s._hasPhoto(e)&&s._scribe({action:o+"photo_tweet"},i),s._hasVideo(e)&&s._scribe({action:o+"video_tweet"},i),e.gifMetadata){var p=Ta.a.getGifSearchItemForTweet(t.id_str,e.gifMetadata);s._scribe({element:"remote",action:o+"gif_tweet"},{items:[p]})}else s._hasGif(e)&&s._scribe({element:"local",action:o+"gif_tweet"},i)})),p()(l()(s),"_scribeThreadSent",(function(e,t,n){var a=s.props.inReplyToStatus,r={items:[Ta.a.getSendThreadItem(e,t.length,!!a)]};s._scribe({action:n},r)})),p()(l()(s),"_scribeRetweet",(function(e){var t={items:[Ta.a.getTweetItem(e)]};s._scribe({action:"retweet"},t)})),p()(l()(s),"_handleRetweet",(function(){var e=s.props,t=e.composerData,n=e.createLocalApiErrorHandler,a=e.onSent,r=e.retweet,o=t[0].quotedStatus;o&&(s._scribeRetweet(o),r(o.id_str,{}).then((function(e){s.setState({tweetsSentOrScheduled:!0}),s._close(),a&&a({sentTweets:e?[e]:[]})}),n(wa.a)))})),p()(l()(s),"handleDismissComposer",(function(){s.shouldShowDiscardConfirmation?s.setState({showDiscardTweetConfirmation:!0}):s.shouldShowBackgroundSendConfirmation?s._cancelAllMediaUploads():s._close()})),p()(l()(s),"_handleDismissComposerFromNudge",(function(){s.shouldShowBackgroundSendConfirmation?s._cancelAllMediaUploads():s._close()})),p()(l()(s),"_cancelAllMediaUploads",(function(){s.props.composerData.forEach((function(e){return e.media.forEach((function(e){return e.uploading&&e.uploader&&e.uploader.cancel()}))}))})),p()(l()(s),"_handleConfirmDiscardTweet",(function(){var e=s.props.analytics,t=s._draftTweetsEnabled?"draft":"send";s.setState({showDiscardTweetConfirmation:!1}),s._close(),e.scribeAction(t+"_tweet_discard")})),p()(l()(s),"_handleCancelDiscardTweet",(function(){s.setState({showDiscardTweetConfirmation:!1},(function(){s._restoreFocusToActiveComposer()}))})),p()(l()(s),"_restoreFocusToActiveComposer",(function(){var e=s.props.activeComposerIndex;void 0!==e&&s._composerRefs[e]&&s._composerRefs[e].focus()})),p()(l()(s),"_close",(function(){var e=s.props,t=e.history,n=e.isSending,a=e.onCloseComposer;n||(s._resetDraft(),window.Windows&&Object(Yn.a)().then((function(e){return e.default.shareCompletedCallback()}))),s.state.navigatingToOutbox?s._draftTweetsEnabled?t.push("/compose/tweet/unsent/drafts"):t.push("/compose/tweet/unsent/scheduled"):a&&a()})),p()(l()(s),"_handleComposerFocus",(function(e){s._composerRefs[e]?s.props.updateActiveComposerIndex(e):setTimeout((function(){s._restoreFocusToActiveComposer()}),0)})),p()(l()(s),"_handleFocus",(function(){var e=s.props.getTweetHeight;s.state.focused||s.setState({focused:!0},(function(){if(e&&s._hiddenExpandedRoot){var t=s._hiddenExpandedRoot.getBoundingClientRect().height+e();s._handleHeightChanged(t)}}))})),p()(l()(s),"_handleHeightChanged",(function(e){var t=s.props,n=t.onHeightChanged,a=t.onAnimationStarted,r=t.onAnimationEnded;a&&a("none"),n&&n(e),window.requestAnimationFrame((function(){r&&r()}))})),p()(l()(s),"_handleTypeaheadStateChange",(function(e){s.setState({typeaheadActive:e})})),p()(l()(s),"_handleRemoveComposer",(function(){var e=s.props,t=e.activeComposerIndex,n=e.composerData,a=e.history,r=e.location,o=e.removeComposer;0===t&&n[0].quotedStatus&&a.replace({pathname:r.pathname,state:Object(lr.a)(r.state||{},"quotedStatus")}),o()})),p()(l()(s),"_handleViewRecipients",(function(){var e=s.props,t=e.excludedRecipients,n=e.history,a=e.inReplyToStatus;s._setActiveParentKey(),n.push({pathname:"/compose/tweet/recipients",state:{excludedRecipients:t,inReplyToStatus:a}})})),p()(l()(s),"_handleTextChange",(function(e,t){var n,a=s.state.textMap,r=s.props,o=r.activeComposerIndex,i=r.isInline,l=r.setValidity;if(s.setState({textMap:Object.assign({},a,(n={},n[t]=e,n))},(function(){l&&l(s._areComposersValid())})),Wa.a.isIOS()){var c=i?0:o;s._updateSingleComposer({text:e},c)}})),p()(l()(s),"_handleTextOnBlur",Object(_t.a)((function(e,t){return function(){var n=s.state,a=n.textMap,r=n.tweetsSentOrScheduled,o=a[e];"string"!=typeof o||r||s._updateSingleComposer({text:o},t)}}))),p()(l()(s),"_updateConversationControlsValue",(function(e){s._conversationControlsCreationEnabled&&(0,s.props.updateConversationControlsValue)(e,s._getParentKey())})),p()(l()(s),"_renderProgressBar",(function(){var e=s.props,t=e.sendingProgress,n=e.isSending;return m.createElement(or.a,{progress:n?Math.max(t,.02):0,style:[Pr.progressBar]})})),p()(l()(s),"_updateConvoCardState",(function(){var e=s.props,t=e.convoCardData,n=e.updateConvoCardState;if(t){var a=t.cardId,r=t.nextState;r&&a&&n(a,r)}})),p()(l()(s),"_attachExternalMedia",(function(e){return function(t){return Promise.all(t.map((function(e){return Object(qn.a)(e)}))).then(s._handleAddMediaFiles(e))}})),p()(l()(s),"_handleAddMediaFiles",(function(e){return function(n){var a=s.props,r=a.addMedia,o=a.addToast,i=a.composerData,l=a.dataSaverMode,c=a.processMultipleMedia,d=a.removeMediaUpload,u=a.uploadMedia;r(n,{location:Qn.c.Tweet}).then((function(n){var a=i[e],r=n.map((function(e){return e.id}));if(t._validateMedia(a,n)){var p=a.media.map((function(e){return e.id}));s._updateSingleComposer({mediaIds:Object(cr.a)(p.concat(r))},e),c(n,{onFailure:s._handleMediaRemoveFactory(e)}).then((function(e){l||u(e.map((function(e){return e.id})),{preUpload:!0})}))}else o({text:Ar}),d(r)}))}})),p()(l()(s),"_handleMediaRemoveFactory",(function(e){return function(t){return s._handleMediaRemove(e,t)}})),p()(l()(s),"_handleMediaRemove",(function(e,t){var n=s.props,a=n.composerData,r=n.removeMediaUpload,o=a[e],i=o.media,l=o.mediaMetadata,c=o.mediaTags,d=i.map((function(e){return e.id})),u=ur(d,t),p=u.length>0?c:[];s._updateSingleComposer({mediaIds:u,gifMetadata:void 0,mediaMetadata:l&&Object(lr.a)(l,t.toString()),mediaTags:p},e),r(t),s.setState({errorMessage:void 0})})),p()(l()(s),"_setComposerRef",(function(e){return function(t){s._composerRefs[e]=t}})),p()(l()(s),"_shouldBeExpanded",(function(e){var t=s.props,n=t.composerData,a=t.parentTweetId,r=s.state.focused;return!(!e&&!r)||(!a||!Object(Ce.b)(s._getSingleComposerDataWithLatestText(n[0])))})),p()(l()(s),"_areComposersValid",(function(){var e=s.props.composerData;return s.isRetweet||e.every((function(e){return Object(Ce.c)(s._getSingleComposerDataWithLatestText(e))}))})),p()(l()(s),"_areComposersEmpty",(function(){return s.props.composerData.every((function(e){return Object(Ce.b)(s._getSingleComposerDataWithLatestText(e))}))})),p()(l()(s),"_getSingleComposerDataWithLatestText",(function(e){var t=s.state.textMap;return"string"==typeof t[e.key]?Object.assign({},e,{text:t[e.key]}):e})),s.state={focused:!1,showDiscardTweetConfirmation:!1,textMap:{},tweetsSentOrScheduled:!1,typeaheadActive:!1},s._composerRefs={},s._tweetSchedulingEnabled=Z.a.isTrue("responsive_web_scheduling_enabled"),s._conversationControlsCreationEnabled=!0===Z.a.getValueWithoutScribeImpression("conversation_controls_limited_replies_creation_enabled"),s._isScrollerV3Enabled=Z.a.isTrue("responsive_web_scroller_v3_enabled"),s._throttledSyncTexts=Object(pr.a)(s._syncTexts,gr,{leading:!0,trailing:!1}),s._keyCommandHandlers=((o={})[ir.b]=s.handleTweetOrRetweet,o[ir.a]=s.handleDismissComposer,o),s._keyCommandHandlersForActiveTypeahead=((i={})[ir.b]=s.handleTweetOrRetweet,i),s._isNudgeEnabled=!0===Z.a.getValueWithoutScribeImpression("responsive_web_second_degree_replies_nudge_get_enabled"),s._isNudgeEnabled&&(s._isShowNudgeEnabled=Z.a.isTrue("responsive_web_second_degree_replies_nudge_show_enabled")),s}d()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.props.onRef;e&&e(this)},n.componentDidMount=function(){var e=this.props,t=e.convoCardData,n=e.externalMedia,a=e.externalMediaFiles,r=e.history,o=e.isIntentRoute,i=e.isInline,s=e.location,l=e.parentTweetId,c=e.prepopulatedText,d=e.setValidity;this._unblockHistory=this.props.history.block(this._blockHistory),n.length>0&&this._attachExternalMedia(0)(n),a.length>0&&this._handleAddMediaFiles(0)(a),this._handleFetchTweetIfNeeded(),(c||t&&t.cardUrl)&&this._updateSingleComposer(Object.assign({},c?{text:c}:null,{},t&&t.cardUrl?{cardUrl:t.cardUrl}:null)),(c||t&&t.cardUrl||n.length>0||a.length>0)&&!o&&r.replace({query:Object(hn.b)(s.query),search:"",pathname:s.pathname,state:Object(lr.a)(Object(hn.b)(s.state||{}),["defaultText","externalMedia","externalMediaFiles"])}),d&&d(this._areComposersValid()),i||this._setActiveParentKey(),this._isScrollerV3Enabled&&l&&this._root&&(this._height=this._root.getBoundingClientRect().height)},n.componentDidUpdate=function(e,t){var n=this.props,a=n.addToast,r=n.composerData,o=n.copyDataFromInlineReplyComposerToModalComposer,i=n.externalMedia,s=n.externalMediaFiles,l=n.onRef,c=n.parentTweetId,d=n.replyPressToggle,u=n.setValidity,p=n.windowWidth,m=n.getTweetHeight,h=this.state.textMap;if(this._isScrollerV3Enabled&&c&&m&&this._root&&(e.composerData!==r||t.textMap!==h)){var f=this._root.getBoundingClientRect().height;if(f!==this._height){this._height=f;var g=f+m();this._handleHeightChanged(g)}}p!==e.windowWidth&&this._throttledSyncTexts(),e.onRef&&e.onRef!==l&&e.onRef(void 0),l&&l!==e.onRef&&l(this),r.length>=hr&&e.composerData.length<hr&&a({text:kr}),i.length>0&&i!==e.externalMedia?this._attachExternalMedia(0)(i):s.length>0&&s!==e.externalMediaFiles&&this._handleAddMediaFiles(0)(s),u&&!Object(en.a)(r,e.composerData)&&u&&u(this._areComposersValid()),d!==e.replyPressToggle&&o(c)},n.componentWillUnmount=function(){var e=this,t=this.props,n=t.composerData,a=t.onRef;this._unblockHistory&&this._unblockHistory(),a&&a(void 0),Object(mr.a)(this._composerRefs).forEach((function(t){var a=t[0],r=t[1],o=parseInt(a,10);if(r)return n[o]&&n[o].pollActive&&e._updateSingleComposer({initialPollChoices:r.pollChoices,initialPollDuration:r.pollDuration},o)})),this._syncTexts()},n.render=function(){var e=this.props.parentTweetId;return this._isScrollerV3Enabled&&e?m.createElement(m.Fragment,null,this._render(),this._render(!0)):this._render()},n._scribe=function(e,t){this.props.analytics.scribe(Object.assign({},e,{data:t}))},i()(t,[{key:"isThread",get:function(){return this.props.composerData.length>1}},{key:"isRetweet",get:function(){var e=this.props.composerData,t=0===e[0].media.length,n=this._getSingleComposerDataWithLatestText(e[0]).text;return!this.isThread&&e[0].quotedStatus&&""===n&&t}},{key:"isQuoteTweet",get:function(){var e=this.props.composerData,t=this._getSingleComposerDataWithLatestText(e[0]).text;return!this.isThread&&e[0].quotedStatus&&t.length>0}},{key:"shouldShowDiscardConfirmation",get:function(){var e=this.props,t=e.isSending,n=e.composerData[0].scheduledTweetId,a=this.state.showDiscardTweetConfirmation,r=this._areComposersEmpty();return!(t||r||a||n)}},{key:"shouldShowBackgroundSendConfirmation",get:function(){var e=this.props,t=e.composerData,n=e.isSending,a=t.some((function(e){return e.media.some((function(e){return e.uploading}))}));return n&&a}},{key:"_draftTweetsEnabled",get:function(){var e=this.props,t=e.composerData,n=e.isInline;return!this.isThread&&!t[0].pollActive&&0===t[0].mediaTags.length&&!n&&Z.a.isTrue("responsive_web_tweet_drafts_enabled")}}]),t}(m.Component);p()(Dr,"defaultProps",{customizePropsForSingleComposerItem:function(e,t,n){return{}},externalMedia:[],externalMediaFiles:[],isSelfThreadReply:!1,positionCursorAtBeginning:!1,prepopulatedText:"",setValidity:function(){},typeaheadWrapper:ya.a}),p()(Dr,"contextTypes",{isModal:Se.bool}),p()(Dr,"_validateMedia",(function(e,t){var n=e.media;return Object(h.c)(n.concat(t))}));var Pr=k.a.create((function(e){return{root:{paddingBottom:e.spaces.xxSmall},rootInlineReply:{backgroundColor:e.colors.fadedGray,paddingBottom:e.componentDimensions.gutterVertical},content:{paddingVertical:e.spaces.xxSmall,backgroundColor:e.colors.cellBackground},contentInlineReply:{paddingVertical:e.componentDimensions.gutterVertical},mask:Object.assign({},k.a.absoluteFillObject),inlineSendButton:{marginLeft:e.spaces.xSmall},progressBar:{position:"absolute",borderTopLeftRadius:e.borderRadii.medium,borderTopRightRadius:e.borderRadii.medium},hidden:{position:"absolute",visibility:"hidden",width:"100%"}}}));t.a=Object(U.a)(Un(Dr))},"Vjl/":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("PN9k");var a=i(n("7DT3")),r=i(n("ERkP")),o=i(n("OkZJ"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm8.472 9.442c-.242.19-.472.368-.63.486-.68-1.265-1.002-1.78-1.256-2.007-.163-.145-.37-.223-.78-.375-.367-.136-1.482-.55-1.65-.85-.087-.153.136-.602.23-.793.088-.177.164-.33.196-.497.123-.646-.33-1.146-.728-1.59-.066-.072-.153-.17-.23-.26.335-.12.862-.26 1.42-.384 1.95 1.448 3.26 3.704 3.428 6.272zm-9.788-7.83c.076.25.145.5.182.678-.255.15-.663.363-.96.52-.262.136-.522.273-.738.392-.247.137-.442.234-.6.313-.347.174-.598.3-.833.553-.068.073-.26.278-1.02 1.886l-1.79-.656c1.293-1.94 3.362-3.31 5.76-3.685zM12 20.5c-4.687 0-8.5-3.813-8.5-8.5 0-1.197.25-2.335.7-3.37.47.182 1.713.66 2.75 1.035-.107.336-.245.854-.26 1.333-.03.855.502 1.7.562 1.792.053.08.12.15.2.207.303.21.687.5.827.616.063.343.166 1.26.23 1.833.144 1.266.175 1.48.24 1.65.005.012.514 1.188 1.315 1.188.576-.003.673-.206 1.855-2.688.244-.512.45-.95.513-1.058.1-.144.597-.61.87-.83.55-.442.76-1.82.413-2.682-.335-.83-1.92-2.08-2.5-2.195-.17-.033-.43-.04-.953-.053-.497-.01-1.25-.028-1.536-.09-.098-.024-.314-.094-.605-.196.32-.668.627-1.28.71-1.4.05-.052.168-.112.408-.234.17-.086.383-.192.653-.34.208-.116.458-.247.71-.38 1.168-.612 1.484-.8 1.658-1.082.11-.177.263-.44-.04-1.544 1.042.027 2.038.24 2.955.61-.89.32-1.024.595-1.106.77-.367.784.256 1.475.667 1.93.096.107.24.268.32.38l-.017.036c-.234.472-.67 1.35-.196 2.194.406.72 1.384 1.13 2.437 1.52.134.05.25.092.33.126.16.208.496.79 1 1.735l.154.285c.078.14.33.505.842.505.167 0 .363-.04.59-.137.032-.013.083-.035.18-.094C19.72 17.405 16.22 20.5 12 20.5zm-3.812-9.45c.01-.285.102-.646.184-.907l.027.006c.397.09 1.037.11 1.83.13.32.006.59.008.615 0 .326.143 1.355 1 1.483 1.31.113.28.05.812-.034 1.01-.233.197-.845.735-1.085 1.078-.093.13-.212.373-.64 1.274-.133.276-.313.654-.488 1.013-.026-.225-.054-.472-.08-.686-.225-2.003-.273-2.22-.42-2.445-.05-.078-.202-.31-1.135-.973-.117-.213-.268-.564-.26-.813z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},c0ZR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("yKDW"),n("dtAy");var a=function(e){return new Promise((function(t,n){var a=new window.XMLHttpRequest;a.responseType="blob",a.onreadystatechange=function(){a.readyState===window.XMLHttpRequest.DONE&&(200===a.status?t(a.response):n(new Error("Unexpected status code")))},a.onerror=function(e){return n(e)},a.ontimeout=function(e){return n(e)},a.open("GET",e,!0),a.send()}))}},dsgH:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("PN9k");var a=i(n("7DT3")),r=i(n("ERkP")),o=i(n("OkZJ"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M15.09 9.07c-.25-1.83-1.43-2.98-3.1-2.98-1.66 0-2.85 1.15-3.09 2.98-.18 1.32 0 2.26.55 2.89.66.76 1.66.86 2.54.86.89 0 1.88-.1 2.54-.86.56-.63.74-1.57.56-2.89zm-1.68 1.9c-.21.24-.65.35-1.42.35-.76 0-1.2-.11-1.41-.35-.24-.28-.31-.86-.2-1.7.1-.76.47-1.68 1.61-1.68.58 0 .95.23 1.2.56.24.32.36.74.41 1.12.12.84.05 1.42-.19 1.7zm2.67 4.09c-.99-.99-2.4-1.52-4.07-1.52h-.03c-1.62 0-3.06.55-4.06 1.55-.87.87-1.34 2.02-1.34 3.25 0 .79.64 1.44 1.44 1.44h7.95c.79 0 1.44-.65 1.44-1.44 0-1.26-.47-2.43-1.33-3.28zm-7.44 3.276c-.318.002-.562-.288-.502-.6.116-.595.406-1.14.842-1.576.72-.72 1.78-1.12 3.01-1.12H12c1.27 0 2.32.37 3.02 1.08.432.432.715.962.83 1.564.06.308-.178.598-.492.6l-6.72.052zM21.75 6.97c-.22-1.7-1.32-2.75-2.86-2.75-1.53 0-2.64 1.05-2.87 2.75-.16 1.2.02 2.07.52 2.65.62.71 1.53.81 2.35.81.81 0 1.73-.1 2.34-.8.39-.45.59-1.07.59-1.85 0-.22-.02-.47-.07-.81zm-4.22.2c.13-.95.59-1.43 1.36-1.43.43 0 .77.15 1 .46.23.29.32.69.35.97.03.22.05.43.05.61 0 .4-.07.69-.21.84-.16.2-.54.28-1.19.28-.66 0-1.04-.08-1.2-.28-.2-.22-.25-.73-.16-1.45zm6.3 8.37c0 .74-.62 1.34-1.37 1.34h-3.75c-.41 0-.76-.34-.76-.76 0-.43.34-.76.76-.76h3.24c.1 0 .2-.05.26-.13.07-.09.1-.2.07-.3-.12-.53-.37-.99-.74-1.36-.61-.62-1.53-.94-2.64-.94-.73 0-1.39.15-1.93.44l-.5.32c-.36.21-.83.1-1.04-.25-.23-.36-.12-.82.24-1.05l.54-.34c.78-.42 1.71-.64 2.66-.64h.03c1.52 0 2.81.47 3.72 1.38.79.8 1.22 1.88 1.21 3.05zM2.18 7.78c0 .78.2 1.4.59 1.85.61.7 1.53.8 2.34.8.82 0 1.73-.1 2.35-.81.5-.58.68-1.45.52-2.65-.23-1.7-1.34-2.75-2.87-2.75-1.54 0-2.64 1.05-2.86 2.75-.05.34-.07.59-.07.81zm4.13.84c-.16.2-.54.28-1.2.28-.65 0-1.03-.08-1.19-.28-.14-.15-.21-.44-.21-.84 0-.18.02-.39.05-.61.03-.28.12-.68.35-.97.23-.31.57-.46 1-.46.77 0 1.23.48 1.36 1.43.09.72.04 1.23-.16 1.45zM.17 15.54c0 .74.62 1.34 1.37 1.34h3.75c.41 0 .76-.34.76-.76 0-.43-.34-.76-.76-.76H2.05c-.1 0-.2-.05-.26-.13-.07-.09-.1-.2-.07-.3.12-.53.37-.99.74-1.36.61-.62 1.53-.94 2.64-.94.73 0 1.39.15 1.93.44l.5.32c.36.21.83.1 1.04-.25.23-.36.12-.82-.24-1.05l-.54-.34c-.78-.42-1.71-.64-2.66-.64H5.1c-1.52 0-2.81.47-3.72 1.38-.79.8-1.22 1.88-1.21 3.05z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},fI5n:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("PN9k");var a=i(n("7DT3")),r=i(n("ERkP")),o=i(n("OkZJ"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M-37.9 18c-.1-.1-.1-.1-.1-.2.1 0 .1.1.1.2z"}),r.default.createElement("path",{d:"M-37.9 18c-.1-.1-.1-.1-.1-.2.1 0 .1.1.1.2zM18 2.2h-1.3v-.3c0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8v.3H7.7v-.3c0-.4-.3-.8-.8-.8-.4 0-.8.3-.8.8v.3H4.8c-1.4 0-2.5 1.1-2.5 2.5v13.1c0 1.4 1.1 2.5 2.5 2.5h2.9c.4 0 .8-.3.8-.8 0-.4-.3-.8-.8-.8H4.8c-.6 0-1-.5-1-1V7.9c0-.3.4-.7 1-.7H18c.6 0 1 .4 1 .7v1.8c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-5c-.1-1.4-1.2-2.5-2.6-2.5zm1 3.7c-.3-.1-.7-.2-1-.2H4.8c-.4 0-.7.1-1 .2V4.7c0-.6.5-1 1-1h1.3v.5c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-.5h7.5v.5c0 .4.3.8.8.8.4 0 .8-.3.8-.8v-.5H18c.6 0 1 .5 1 1v1.2z"}),r.default.createElement("path",{d:"M15.5 10.4c-3.4 0-6.2 2.8-6.2 6.2 0 3.4 2.8 6.2 6.2 6.2 3.4 0 6.2-2.8 6.2-6.2 0-3.4-2.8-6.2-6.2-6.2zm0 11c-2.6 0-4.7-2.1-4.7-4.7s2.1-4.7 4.7-4.7 4.7 2.1 4.7 4.7c0 2.5-2.1 4.7-4.7 4.7z"}),r.default.createElement("path",{d:"M18.9 18.7c-.1.2-.4.4-.6.4-.1 0-.3 0-.4-.1l-3.1-2v-3c0-.4.3-.8.8-.8.4 0 .8.3.8.8v2.2l2.4 1.5c.2.2.3.6.1 1z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},nGvh:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("PN9k");var a=i(n("7DT3")),r=i(n("ERkP")),o=i(n("OkZJ"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,a.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M12 11.816c1.355 0 2.872-.15 3.84-1.256.814-.93 1.078-2.368.806-4.392-.38-2.825-2.117-4.512-4.646-4.512S7.734 3.343 7.354 6.17c-.272 2.022-.008 3.46.806 4.39.968 1.107 2.485 1.256 3.84 1.256zM8.84 6.368c.162-1.2.787-3.212 3.16-3.212s2.998 2.013 3.16 3.212c.207 1.55.057 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.255-.223-2.71-.743c-.507-.578-.657-1.656-.45-3.205zm11.44 12.868c-.877-3.526-4.282-5.99-8.28-5.99s-7.403 2.464-8.28 5.99c-.172.692-.028 1.4.395 1.94.408.52 1.04.82 1.733.82h12.304c.693 0 1.325-.3 1.733-.82.424-.54.567-1.247.394-1.94zm-1.576 1.016c-.126.16-.316.246-.552.246H5.848c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.114 1.994 6.824 4.85c.06.242.017.48-.12.654z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},pidX:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));n("T7D0"),n("p+GS"),n("dtAy");var a=n("3XMw"),r=n.n(a),o=n("3A2y"),i=r.a.e48ced51,s=["title","screen_name","text","url","hashtags","via"];t.a=function(e){var t=e.state||{},n=e.query||{},a=s.map((function(e){return t[e]||n[e]})),r=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],p=[r,o&&"@"+o.toString(),l,c,d&&d.toString().split(",").map((function(e){return"#"+e})).join(" "),u&&i({viaScreenName:u})].filter(Boolean).join(" ");return p?p+" ":void 0};var l=function(e){return Object(o.a)(e,s)}},rziq:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="send-tweet",r="dismiss-composer"},zmS9:function(e,t,n){"use strict";var a=n("ERkP"),r=n("3XMw"),o=n.n(r),i=n("fI5n"),s=n.n(i),l=n("t62R"),c=n("rHpw"),d=n("QbaN"),u=o.a.g6021d39,p=c.a.create((function(e){return{icon:{fontSize:e.fontSizes.normal,paddingRight:e.spaces.xSmall,textAlignVertical:"middle"}}}));t.a=function(e){var t=e.scheduledFor,n=e.onPress,r=Object(d.c)(t),o=!!r&&(Object(d.h)(t)&&!Object(d.g)(r)&&!Object(d.f)(r)),i=Boolean(n);return r&&o?a.createElement(l.b,{color:"deepGray",onPress:n,size:"small",withInteractiveStyling:i},a.createElement(s.a,{style:p.icon}),u({date:Object(d.b)(r),time:Object(d.i)(r)})):null}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web/shared~bundle.Compose~bundle.RichTextCompose~bundle.PlainTextCompose.bea1f694.js.map