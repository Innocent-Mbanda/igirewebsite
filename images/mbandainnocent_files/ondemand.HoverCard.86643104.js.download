(window.webpackJsonp=window.webpackJsonp||[]).push([[207],{oyNo:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,n("PN9k");var r=a(n("7DT3")),o=a(n("ERkP")),i=a(n("OkZJ"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[i.default.root,e.style],viewBox:"0 0 24 24"}),o.default.createElement("g",null,o.default.createElement("path",{d:"M12.538 6.478c-.14-.146-.335-.228-.538-.228s-.396.082-.538.228l-9.252 9.53c-.21.217-.27.538-.152.815.117.277.39.458.69.458h18.5c.302 0 .573-.18.69-.457.118-.277.058-.598-.152-.814l-9.248-9.532z"})))};s.metadata={height:24,width:24};var l=s;t.default=l},uvhM:function(e,t,n){"use strict";n.r(t),n.d(t,"UserProfileCardContainer",(function(){return j}));var r=n("PJYZ"),o=n.n(r),i=n("VbXa"),a=n.n(i),s=n("lSNA"),l=n.n(s),c=n("ERkP"),d=n("P1r1"),u=n("rxPX"),h=n("0KEI"),p=n("G6rE"),m=Object(p.g)([p.a]),f=function(e,t){return m(e,t.screenName)},w=function(e,t){return p.e.selectByScreenName(e,t.screenName)},g=function(e,t){return p.e.selectIsUserNotFound(e,t.screenName)},v=function(e,t){return p.e.selectIsUserSuspended(e,t.screenName)},b=function(e,t){return p.e.selectIsUserWithheld(e,t.screenName)},y=function(e,t){var n=w(e,t);return null==n?void 0:n.profile_interstitial_type},C=function(e,t){var n=w(e,t);return null==n?void 0:n.highlightedLabel},_=Object(u.a)().propsFromState((function(){return{displaySensitiveMedia:d.j,fetchStatus:f,isNotFound:g,isSuspended:v,isWithheld:b,user:w,userHighlightedLabel:C,userProfileInterstitialType:y}})).propsFromActions((function(){return{createLocalApiErrorHandler:Object(h.d)("USER_PROFILE_CARD"),fetchOneUserByScreenNameIfNeeded:p.e.fetchOneByScreenNameIfNeeded}})).withAnalytics(),N=n("GOQE"),S=n("kGix"),E=n("v//M"),k=n("Jkc4"),A=(n("cI1W"),n("0rpg"),n("yIC7"),n("uIZp")),L=n("W27K"),U=n("v6aA"),F=n("3xO4"),P=n.n(F),T=n("7wqI"),O=n("oSwX"),I=n("jV+4"),W=n("ir4X"),R=n("pBrB"),x=n("wCd/"),H=n("rHpw"),V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,l()(o()(t),"_renderKnownFollowerSocialContext",(function(e){var t=e.isAllowedToViewFollowersYouKnow,n=e.isLoggedIn,r=e.user;return t&&n?c.createElement(P.a,{style:X.marginTopXSmall},c.createElement(L.a,{user:r})):null})),t}a()(t,e);var n=t.prototype;return n.render=function(){var e=this.props.user;return e?this._renderProfile(e):this._renderEmptyProfile()},n._renderEmptyProfile=function(){var e=this.props,t=e.onAvatarClick,n=e.promotedContent,r=e.screenName;return c.createElement(P.a,{style:X.root},c.createElement(O.default,{accessibilityLabel:r,importantForAccessibility:"no-hide-descendants",onClick:t,promotedContent:n,screenName:r,size:"jumbo",withLink:!0}),c.createElement(P.a,{style:X.marginTopXXSmall},c.createElement(I.a,{screenName:r,withLink:!0,withScreenName:!1,withStackedLayout:!0})))},n._renderProfile=function(e){var t=this.context.loggedInUserId,n=this.props,r=n.displaySensitiveMedia,o=n.isNotFound,i=n.isSuspended,a=n.isWithheld,s=n.userProfileInterstitialType,l=!!t,d=Object(T.a)({displaySensitiveMedia:r,isNotFound:o,isSuspended:i,isWithheld:a,loggedInUserId:t,user:e,userProfileInterstitialType:s}),u=e.id_str,h=e.name,p=t===u;return c.createElement(P.a,{style:X.root},this._renderUserAvatar({isAllowedToViewFollowButton:d.followButton,isAllowedToViewFullName:d.fullName,isLoggedIn:l,userName:h,userId:u,userAvatarUri:d.avatar?e.profile_image_url_https:void 0}),c.createElement(P.a,{style:X.marginTopXXSmall},this._renderUserName({isAllowedToViewFullName:d.fullName,isProtected:d.badges?e.protected:void 0,isVerified:d.badges?e.verified:void 0,translatorType:d.badges?e.translator_type:void 0,userName:h,withFollowsYou:d.followIndicator&&e.followed_by}),this._renderHighlightedUserLabel({isAllowedToViewLabel:d.label})),this._renderUserDescription({isAllowedToViewDescription:d.description,userDescription:e.description,userEntities:e.entities,userId:u}),this._renderUserStats({isAllowedToViewStats:d.stats,followersCount:e.followers_count,friendsCount:e.friends_count,withLink:Object(T.b)({isOwnProfile:p,user:e})}),this._renderKnownFollowerSocialContext({isAllowedToViewFollowersYouKnow:d.followersYouKnow,isLoggedIn:l,user:e}))},n._renderUserAvatar=function(e){var t=e.isAllowedToViewFollowButton,n=e.isAllowedToViewFullName,r=e.isLoggedIn,o=e.userName,i=e.userId,a=e.userAvatarUri,s=this.props,l=s.onAvatarClick,d=s.promotedContent,u=s.screenName,h=s.showRelationshipChangeConfirmation;return c.createElement(P.a,{style:X.row},c.createElement(O.default,{accessibilityLabel:n?o:u,importantForAccessibility:"no-hide-descendants",onClick:l,promotedContent:d,screenName:u,size:"jumbo",uri:a,withLink:!0}),t&&r?c.createElement(A.a,{displayMode:"only-text",promotedContent:d,showRelationshipChangeConfirmation:h,userId:i}):null)},n._renderUserName=function(e){var t=e.isAllowedToViewFullName,n=e.isProtected,r=e.isVerified,o=e.translatorType,i=e.userName,a=e.withFollowsYou,s=this.props,l=s.onScreenNameClick,d=s.promotedContent,u=s.screenName;return c.createElement(I.a,{badgeContext:"account",isProtected:n,isVerified:r,name:t?i:u,onLinkClick:l,promotedContent:d,screenName:u,translatorType:o,withFollowsYou:a,withLink:!0,withStackedLayout:!0})},n._renderHighlightedUserLabel=function(e){var t=e.isAllowedToViewLabel,n=this.props,r=n.onHighlightedLabelClick,o=n.userHighlightedLabel;if(!t||!o)return null;var i=o.badgeUrl,a=o.description,s=o.link;return c.createElement(W.a,{badgeUrl:i,description:a,link:s,onClick:r,style:X.marginTopXXSmall})},n._renderUserDescription=function(e){var t=e.isAllowedToViewDescription,n=e.userDescription,r=e.userEntities,o=e.userId;return t&&n?c.createElement(P.a,{style:[X.row,X.marginTopXSmall]},c.createElement(R.a,{description:n,entities:r,userId:o})):null},n._renderUserStats=function(e){var t=e.isAllowedToViewStats,n=e.followersCount,r=e.friendsCount,o=e.withLink,i=this.props,a=i.screenName,s=i.onUserStatsPress;return t?c.createElement(P.a,{style:[X.row,X.marginTopXSmall]},c.createElement(x.a,{followersCount:n,friendsCount:r,onPress:s,screenName:a,withLink:o})):null},t}(c.PureComponent);l()(V,"contextType",U.a);var X=H.a.create((function(e){return{root:{padding:e.spaces.small},row:{flexDirection:"row",justifyContent:"space-between"},marginTopXSmall:{marginTop:e.spaces.xSmall},marginTopXXSmall:{marginTop:e.spaces.xxSmall}}})),j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,l()(o()(t),"_renderUserProfileCard",(function(){var e=t.props,n=e.displaySensitiveMedia,r=e.isNotFound,o=e.isSuspended,i=e.isWithheld,a=e.onAvatarClick,s=e.onScreenNameClick,l=e.promotedContent,d=e.screenName,u=e.showRelationshipChangeConfirmation,h=e.user,p=e.userHighlightedLabel,m=e.userProfileInterstitialType;return c.createElement(k.a,null,(function(e){return c.createElement(V,{displaySensitiveMedia:n,isNotFound:r,isSuspended:o,isWithheld:i,onAvatarClick:a,onHighlightedLabelClick:t._handleHighlightedUserLabelClick,onScreenNameClick:s,onUserStatsPress:e(),promotedContent:l,screenName:d,showRelationshipChangeConfirmation:u,user:h,userHighlightedLabel:p,userProfileInterstitialType:m})}))})),l()(o()(t),"_handleFetchUser",(function(){var e=t.props,n=e.createLocalApiErrorHandler;(0,e.fetchOneUserByScreenNameIfNeeded)(e.screenName).catch((function(e){n(N.a)(e)}))})),l()(o()(t),"_handleHighlightedUserLabelClick",(function(){var e=t.props,n=e.analytics,r=e.userHighlightedLabel;n.scribe({element:"highlighted_user_label",action:"click",data:{url:null==r?void 0:r.url}})})),t}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._handleFetchUser()},n.render=function(){var e=this.props,t=e.isSuspended,n=e.fetchStatus;return c.createElement(E.a,{fetchStatus:t?S.a.LOADED:n,onRequestRetry:this._handleFetchUser,render:this._renderUserProfileCard})},t}(c.Component),D=_(j);t.default=D},"z2a+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));n("PN9k"),n("cI1W");var r=n("97Jx"),o=n.n(r),i=(n("KYm4"),n("1Pcy")),a=n.n(i),s=n("W/Kd"),l=n.n(s),c=n("KEM+"),d=n.n(c),u=n("ERkP"),h=n("zfvc"),p=n("jHwr"),m=n("VY6S"),f=n("w9LO"),w=n("TCjc"),g=n("oyNo"),v=n.n(g),b=n("Oe3h"),y=n("0FVZ"),C=n("7nmT"),_=n.n(C),N=n("rHpw"),S=function(e){var t=e.anchorHeight,n=e.anchorY,r=e.contentHeight,o=e.preferredVerticalOrientation,i=void 0===o?"down":o,a=e.viewportHeight,s=e.withFixedPosition,l=E({anchorHeight:t,anchorY:n,contentHeight:r,viewportHeight:a}),c=l.canOrientDown,d=l.canOrientUp,u=window.scrollY;return!d||"up"!==i&&c?{top:s?n+t+10:u+n+t+10}:{bottom:s?a-n+10:-(u+n-10)}},E=function(e){var t=e.anchorHeight,n=e.anchorY,r=e.contentHeight;return{canOrientDown:e.viewportHeight-(n+t)>=r+10+15,canOrientUp:n>=r+10+15}},k=function(e){var t=e.anchorWidth,n=e.anchorX,r=e.contentWidth,o=e.viewportWidth,i=e.borderRadius,a=r/2,s=t/2,l=n+s,c=A({anchorWidth:t,anchorX:n,contentWidth:r,viewportWidth:o}),d=c.canOrientCenter,u=c.canOrientLeft,h=c.canOrientRight;return!d&&h?i>=s?n-t:n:!d&&u?i>=s?n+2*t-r:n+t-r:d?l-a:0},A=function(e){var t=e.anchorWidth,n=e.anchorX,r=e.contentWidth,o=e.viewportWidth,i=r/2,a=n+t/2;return{canOrientCenter:o-a>=i&&a>=i,canOrientLeft:n+t>=r,canOrientRight:o-n>=r}},L=function(e){var t=e.contentLeft,n=e.anchorWidth,r=e.anchorX,o=e.contentWidth,i=e.borderRadius,a=n/2,s=r+a,l=o/2;return t+n===r&&i>=a?n+a:t===r?a:t-n==r+n-o?o-n-a:t===r+n-o?o-a:t===s-l?l:s},U=n("jdj2"),F=n.n(U),P=n("/uF9"),T=n.n(P),O=n("3xO4"),I=n.n(O),W=250,R=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,d()(a()(r),"_getBorderRadius",(function(){return N.a.theme.borderRadii.large})),d()(a()(r),"_setContentNode",(function(e){var t=_.a.findDOMNode(e);r._contentNode=t&&t instanceof window.HTMLElement?t:void 0,r._scheduleUpdate()})),d()(a()(r),"_handleEsc",(function(e){var t=r.props.onMaskClick,n=e.altKey,o=e.ctrlKey,i=e.metaKey,a=e.key;!(n||o||i)&&"Escape"===a&&t&&t()})),d()(a()(r),"_updatePosition",(function(){var e=r.props,t=e.anchorNode,n=e.preferredVerticalOrientation,o=e.withArrow,i=e.withFixedPosition;if(r._mounted&&t&&r._contentNode){var a=r._contentNode.scrollHeight,s=r._contentNode.scrollWidth,l=parseFloat(r._getBorderRadius()),c=F.a.get("window"),d=c.height,u=c.width,h=t.getBoundingClientRect(),p=h.left,m=h.top,f=h.height,w=h.width,g=S({anchorHeight:f,anchorY:m,contentHeight:a,preferredVerticalOrientation:n,viewportHeight:d,withFixedPosition:i}),v=k({anchorWidth:w,anchorX:p,contentWidth:s,viewportWidth:u,borderRadius:l}),b=o?L({contentLeft:v,anchorWidth:w,anchorX:p,contentWidth:s,borderRadius:l}):void 0;r.setState({arrowPositionLeft:b,bottom:g.bottom,top:g.top,left:v})}})),r.state=Object.freeze({}),r._scheduleUpdate=Object(p.a)(r._updatePosition,window.requestAnimationFrame),r._scheduleDebouncedUpdate=Object(m.a)(r._scheduleUpdate,W),r}l()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._mounted=!0,F.a.addEventListener("change",this._scheduleDebouncedUpdate)},n.componentWillUnmount=function(){var e=this.props.onHoverCardUnmount;this._mounted=!1,F.a.removeEventListener("change",this._scheduleDebouncedUpdate),e&&e()},n.render=function(){var e=this,t=this.props,n=t.children,r=t.onAnimateComplete,i=t.onMaskClick,a=t.show,s=t.withArrow,l=t.withFixedPosition,c=t.withFocusContainer,d=this.state,p=d.bottom,m=d.top,g=d.left,C=void 0===m&&void 0===p,_=C||!c?u.Fragment:f.a,N=T.a.isRTL,S={top:m,bottom:p,left:N?void 0:g,right:N?g:void 0},E=[C?x.initialRenderWrapper:l?x.contentWrapperFixed:x.contentWrapperAbsolute,S],k={borderRadius:this._getBorderRadius()};return u.createElement(y.a.Dropdown,null,u.createElement(w.a.Provider,{value:{isInHoverCard:!0}},i?u.createElement(I.a,{onClick:i,style:x.mask}):null,u.createElement(I.a,{onKeyUp:this._handleEsc,ref:this._setContentNode,style:E},u.createElement(_,null,u.createElement(h.b,{animateMount:!0,duration:"long",onAnimateComplete:r,show:a,type:"fade"},(function(t){var r=t.isAnimating;return u.createElement(b.a,{disableReporting:r},(function(t,r){return u.createElement(I.a,o()({ref:t()},r({style:[x.contentRoot,k]})),s&&u.createElement(v.a,{style:e._getArrowStyle()}),n)}))}))))))},n._getArrowStyle=function(){var e,t=this.state,n=t.arrowPositionLeft,r=t.bottom,o=T.a.isRTL;return n?[x.arrow,(e={},e[o?"right":"left"]="calc("+n+"px - "+v.a.metadata.width/2+"px)",e),r?x.downArrow:x.upArrow]:void 0},t}(u.Component),x=N.a.create((function(e){return{arrow:{color:e.colors.cellBackground,filter:"drop-shadow("+e.spaces.nano+" -"+e.spaces.nano+" "+e.spaces.nano+" "+e.colors.lightGray+")",fontSize:e.fontSizes.small,position:"absolute",width:v.a.metadata.width+"px"},contentWrapperAbsolute:{position:"absolute"},contentWrapperFixed:{backfaceVisibility:"hidden",position:"fixed"},initialRenderWrapper:{opacity:0,position:"fixed"},contentRoot:{backgroundColor:e.colors.cellBackground,borderRadius:e.borderRadii.large,boxShadow:e.boxShadows.medium},downArrow:{bottom:"-"+e.fontSizes.xSmall,transform:"rotate(180deg)"},mask:Object.assign({},N.a.absoluteFillObject,{position:"fixed"}),upArrow:{top:"-"+e.fontSizes.xSmall}}}))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web/ondemand.HoverCard.86643104.js.map